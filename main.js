!function(){"use strict";const e=document.querySelector(".profile__image"),t=document.querySelector(".popup_type_profile"),s=document.querySelector(".profile__button"),i=(t.querySelector(".popup__close"),t.querySelector(".popup__input_type_name")),r=t.querySelector(".popup__input_type_profession"),n=document.querySelector(".add-button"),o=(document.querySelector(".elements__cards"),{inputSelector:".popup__input",submitButtonSelector:".popup__save",inactiveButtonClass:"popup__save_disabled",inputErrorClass:"popup__input-error_open",errorClass:"popup__error_visible"}),a=document.querySelector(".popup__form_edit"),l=document.querySelector(".popup__form_cards"),c=document.querySelector(".popup__form_avatar");function h(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var u=class{constructor(e,t){h(this,"_showInputError",((e,t)=>{const{inputErrorClass:s,errorClass:i}=this._settings,r=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(i),r.textContent=t,r.classList.add(s)})),h(this,"_hideInputError",(e=>{const{inputErrorClass:t,errorClass:s}=this._settings,i=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(s),i.classList.remove(t),i.textContent=""})),h(this,"_checkInputValidity",(e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)})),h(this,"_setEventListeners",(()=>{const{inputSelector:e}=this._settings;this.inputList=Array.from(this._formElement.querySelectorAll(e)),this._toggleButton(),this.inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButton()}))}))})),h(this,"_hasValidInput",(()=>this.inputList.every((e=>e.validity.valid)))),h(this,"_toggleButton",(()=>{const{inactiveButtonClass:e}=this._settings;this._inactiveButtonClass=e,this._hasValidInput()?this.enableButton():this.disableButton()})),h(this,"enableButton",(()=>{this._submitButton.disabled=!1,this._submitButton.classList.remove(this._inactiveButtonClass)})),h(this,"disableButton",(()=>{this._submitButton.disabled=!0,this._submitButton.classList.add(this._inactiveButtonClass)})),this._settings=e,this._formElement=t,this._submitButton=this._formElement.querySelector(this._settings.submitButtonSelector)}resetValidation(){this.inputList.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}};class d{constructor(e,t,s,i,r,n){var o,a;a=()=>{this._likeButton.addEventListener("click",(()=>this._handleLikeIcon())),this._deleteButton.addEventListener("click",(()=>this._handleDeleteClick(this._id))),this._cardImage.addEventListener("click",(()=>this._handleCardClick(this._name,this._link)))},(o="_addEventListeners")in this?Object.defineProperty(this,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):this[o]=a,this._data=e,this._name=e.name,this._link=e.link,this._likes=e.likes,this._id=e._id,this._userId=t,this._templateCardSelector=s,this._handleCardClick=i,this._handleLikeIcon=r,this._handleDeleteClick=n}getId(){return this._id}_getTemplate(){return document.querySelector(this._templateCardSelector).content.querySelector(".elements__card")}setLikeCounter(e){this._likes=e;const t=this._likes.length;this._cardElement.querySelector(".elements__card_likes").textContent=t,this.isLiked()?this._likeButton.classList.add("elements__button-like_active"):this._likeButton.classList.remove("elements__button-like_active")}isLiked(){return this._likes.find((e=>e._id===this._userId))}generateCard(){return this._cardElement=this._getTemplate().cloneNode(!0),this._cardImage=this._cardElement.querySelector(".elements__image"),this._cardName=this._cardElement.querySelector(".elements__card-text"),this._likeButton=this._cardElement.querySelector(".elements__button-like"),this._deleteButton=this._cardElement.querySelector(".elements__button-delete"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardName.textContent=this._name,this._addEventListeners(),this.setLikeCounter(this._likes),this._cardElement}}const _="popup_open";class p{constructor(e){this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}_handleEscClose(e){"Escape"===e.key&&this.close()}open(){this._popup.classList.add(_),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove(_),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._popup.addEventListener("mousedown",(e=>{(e.target.classList.contains("popup")||e.target.classList.contains("popup__close"))&&this.close()}))}}class m extends p{constructor(e,t){super(e),this._handleSubmitForm=t,this._form=this._popup.querySelector(".popup__form"),this._inputs=this._form.querySelectorAll(".popup__input")}_getInputValues(){const e={};return this._inputs.forEach((t=>{const s=t.id,i=t.value;e[s]=i})),e}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmitForm(this._getInputValues())}))}setInputValues(e){this._inputs.forEach((t=>{t.value=e[t.name]}))}close(){super.close(),this._form.reset()}}const f=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}getUserInfo(){return fetch(this._baseUrl+"/users/me",{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}editProfile(e,t){return fetch(this._baseUrl+"/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}editAvatar(e){return fetch(this._baseUrl+"/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}getInitialCards(){return fetch(this._baseUrl+"/cards",{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}addCard(e,t){return fetch(this._baseUrl+"/cards",{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}addLike(e){return fetch(this._baseUrl+"/cards/likes/"+e,{method:"PUT",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}removeLike(e){return fetch(this._baseUrl+"/cards/likes/"+e,{method:"DELETE",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}}({baseUrl:"https://around.nomoreparties.co/v1/cohort-3-en",headers:{authorization:"9398a483-484e-4ebd-a374-b6b3b985e9c4","Content-Type":"application/json"}});let v;Promise.all([f.getUserInfo(),f.getInitialCards()]).then((e=>{let[t,s]=e;v=t._id,P.setUserInfo(t.name,t.about,t.avatar),B.rendererItems(s)})).catch(console.log);const b=new u(o,a),k=new u(o,l),E=new u(o,c);let g;b.enableValidation(),k.enableValidation(),E.enableValidation(),b.resetValidation();const y=e=>{I.open(),g=e,console.log("id =>",e)},L=new m("#popup-template",(e=>{f.editProfile(e.name,e.profession).then((t=>{P.setUserInfo(t.name,e.profession,t.avatar)})).catch(console.log).finally((()=>{L.close()}))}));L.setEventListeners();const S=new m("#popup-template-avatar",(e=>{f.editAvatar(e.link).then((e=>{P.setUserInfo(e.name,e.about,e.avatar)})).catch(console.log).finally((()=>{S.close()}))}));S.setEventListeners();const C=new m("#popup-template-form",(e=>{f.addCard(e.cardTitle,e.cardImageLink).then((e=>{const t={name:e.name,link:e.link,likes:e.likes,_id:e._id};B.addItem(t)})).catch(console.log),C.close()}));C.setEventListeners();const I=new m("#popup-template-confirm",y);I.setEventListeners();const q=new class extends p{constructor(e){super(e),this._subtitle=this._popup.querySelector(".popup__subtitle"),this._image=this._popup.querySelector(".popup__image")}open(e,t){super.open(),this._image.src=t,this._image.alt=e,this._subtitle.textContent=e}}("#popup-image");q.setEventListeners();const B=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}rendererItems(e){e.forEach((e=>{this.addItem(e)}))}addItem(e){const t=this._renderer(e);this._container.prepend(t)}}({renderer:e=>{const t=new d(e,v,"#card-template",((e,t)=>{q.open(e,t)}),(()=>{t.isLiked()?f.removeLike(t.getId()).then((e=>{t.setLikeCounter(e.likes)})):f.addLike(t.getId()).then((e=>{t.setLikeCounter(e.likes)}))}),(()=>y()));return t.generateCard()}},".elements__cards"),P=new class{constructor(e){let{profileNameSelector:t,profileProfessionSelector:s,profileAvatar:i}=e;this._profileName=document.querySelector(t),this._profileProfession=document.querySelector(s),this._profileAvatar=document.querySelector(i)}getUserInfo(){return{name:this._profileName.textContent,profession:this._profileProfession.textContent,avatar:this._profileAvatar.style.backgroundImage}}setUserInfo(e,t,s){this._profileName.textContent=e,this._profileProfession.textContent=t,this._profileAvatar.style.backgroundImage="url(".concat(s,")")}}({profileNameSelector:".profile__header",profileProfessionSelector:".profile__profession",profileAvatar:".profile__image"});s.addEventListener("click",(function(){const e=P.getUserInfo();i.value=e.name,r.value=e.profession,b.resetValidation(),b.enableButton(),L.open()})),n.addEventListener("click",(()=>{k.resetValidation(),k.disableButton(),C.open()})),e.addEventListener("click",(()=>{E.resetValidation(),E.disableButton(),S.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBRCwwQkFBc0JDLEVBQXRCLGNBQWlEekwsR0FDN0QsRUFDRXFCLEtBQUtxSyxhQUFjekwsU0FBU0MsY0FBY3NMLEdBQzFDbkssS0FBS3NLLG1CQUFxQjFMLFNBQVNDLGNBQWN1TCxHQUNqRHBLLEtBQUt1SyxlQUFnQjNMLFNBQVNDLGNBQWNGLEdBRzlDOEgsY0FDRSxNQUFPLENBQ0x0RCxLQUFNbkQsS0FBS3FLLGFBQWE5SixZQUN4QnlJLFdBQVloSixLQUFLc0ssbUJBQW1CL0osWUFDbENrSCxPQUFRekgsS0FBS3VLLGVBQWVDLE1BQU1DLGlCQUl4Q3RDLFlBQVloRixFQUFNNkYsRUFBWXZCLEdBQzVCekgsS0FBS3FLLGFBQWE5SixZQUFjNEMsRUFDaENuRCxLQUFLc0ssbUJBQW1CL0osWUFBY3lJLEVBQ3RDaEosS0FBS3VLLGVBQWVDLE1BQU1DLGdCQUExQixjQUFtRGhELEVBQW5ELE9IeUkwQixDQUM1QjBDLG9CQUFxQixtQkFDckJDLDBCQUEyQix1QkFDM0J6TCxjQUFlLG9CQWdCakJJLEVBQVdxQyxpQkFBaUIsU0FaNUIsV0FDRSxNQUFNc0osRUFBY3hDLEVBQVN6QixjQUU3QnpILEVBQVUrRyxNQUFRMkUsRUFBWXZILEtBQzlCbEUsRUFBZ0I4RyxNQUFRMkUsRUFBWTFCLFdBRXBDUCxFQUFrQjVHLGtCQUNsQjRHLEVBQWtCaEgsZUFDbEJzSCxFQUFpQjdELFVBUW5CaEcsRUFBVWtDLGlCQUFpQixTQUFTLEtBQ2xDdUgsRUFBcUI5RyxrQkFDckI4RyxFQUFxQmpILGdCQUNyQnlILEVBQWFqRSxVQUlmdkcsRUFBY3lDLGlCQUFpQixTQUFTLEtBQ3RDd0gsRUFBb0IvRyxrQkFDcEIrRyxFQUFvQmxILGdCQUNwQndILEVBQWtCaEUsVSIsInNvdXJjZXMiOlsid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0ucHJvamVjdC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWN0aWN1bS5wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLnByb2plY3QvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0ucHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0ucHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWN0aWN1bS5wcm9qZWN0Ly4vc3JjL3V0aWxzL0FwaS5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLnByb2plY3QvLi9zcmMvcGFnZS9pbmRleC5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLnByb2plY3QvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLnByb2plY3QvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0ucHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vRm9yIFByb2ZpbGUgYW5kIHBvcHVwIGVsZW1lbnRzXG5jb25zdCBwcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZVwiKTtcblxuY29uc3QgcHJvZmlsZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX3Byb2ZpbGVcIik7IC8vLnBvcHVwIGJhc3Rha2kgc2lsaW5kaVxuY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYnV0dG9uXCIpO1xuY29uc3QgY2xvc2VCdXR0b24gPSBwcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2VcIik7XG5jb25zdCBpbnB1dE5hbWUgPSBwcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV9uYW1lXCIpO1xuY29uc3QgaW5wdXRQcm9mZXNzaW9uID0gcHJvZmlsZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3R5cGVfcHJvZmVzc2lvblwiKTtcblxuLy8gLy8vLy9DQVJEU1xuXG5jb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1idXR0b25cIik7XG5cbi8vIFdyYXBwZXJzXG5jb25zdCBlbGVtZW50c0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19jYXJkc1wiKTtcblxuY29uc3Qgc2V0dGluZ3MgPSB7XG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX3NhdmVcIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fc2F2ZV9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0LWVycm9yX29wZW5cIixcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9fZXJyb3JfdmlzaWJsZVwiLFxufTtcblxuY29uc3QgZWRpdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX2VkaXRcIik7XG5jb25zdCBhZGRDYXJkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1fY2FyZHNcIik7XG5jb25zdCBhdmF0YXJDaGFuZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX2F2YXRhclwiKTtcblxuXG5leHBvcnQge1xuICBzZXR0aW5ncywgZWRpdEZvcm0sIGFkZENhcmRGb3JtLCBhdmF0YXJDaGFuZ2UsIGVkaXRCdXR0b24sIGNsb3NlQnV0dG9uLCBpbnB1dE5hbWUsIGlucHV0UHJvZmVzc2lvbixcbiAgYWRkQnV0dG9uLCBlbGVtZW50c0xpc3QsIHByb2ZpbGVBdmF0YXJcbn07XG5cblxuXG4vL2NvbnN0IHByb2ZpbGVJbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbmZvXCIpO1xuLy8gY29uc3QgcHJvZmlsZU5hbWUgPSBwcm9maWxlSW5mby5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2hlYWRlclwiKTtcbi8vIGNvbnN0IHByb2ZpbGVQcm9mZXNzaW9uID0gcHJvZmlsZUluZm8ucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19wcm9mZXNzaW9uXCIpO1xuLy8gY29uc3QgcG9wdXBMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cFwiKTtcbi8vIGNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQuZm9ybXMucHJvZmlsZUZvcm07IC8vcXVlcnlTZWxlY3RvcignLnBvcHVwX2Zvcm0nKTsvL1xuLy8gY29uc3QgcG9wdXBTZWxlY3RvciA9IFwicG9wdXBfb3BlblwiO1xuXG5cbi8vIGNvbnN0IENhcmRfVGVtcGxhdGVfU2VsZWN0b3IgPSBcIiNjYXJkLXRlbXBsYXRlXCI7XG4vLyBjb25zdCBwcmV2aWV3SW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGUtcHJldmlld1wiKTtcbi8vIGNvbnN0IGNhcmREZWxldGVQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9jb25maXJtLWRlbGV0ZVwiKTtcbi8vIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2J1dHRvbl9kZWxldGVcIilcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX3NldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dCwgZXJyb3JNZXNzYWdlKSA9PiB7XG4gICAgY29uc3QgeyBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQ2xhc3MgfSA9IHRoaXMuX3NldHRpbmdzO1xuXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZChlcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoaW5wdXRFcnJvckNsYXNzKTtcbiAgfTtcblxuICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB7IGlucHV0RXJyb3JDbGFzcywgZXJyb3JDbGFzcyB9ID0gdGhpcy5fc2V0dGluZ3M7XG5cbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKGVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgfTtcblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0KSA9PiB7XG4gICAgaWYgKCFpbnB1dC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXQsIGlucHV0LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xuICAgIH1cbiAgfTtcblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBpbnB1dFNlbGVjdG9yIH0gPSB0aGlzLl9zZXR0aW5ncztcblxuICAgIHRoaXMuaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoaW5wdXRTZWxlY3RvcilcbiAgICApO1xuXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7IC8vbWV0aG9kIGNoZWNrXG5cbiAgICB0aGlzLmlucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBfaGFzVmFsaWRJbnB1dCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dExpc3QuZXZlcnkoKGlucHV0KSA9PiBpbnB1dC52YWxpZGl0eS52YWxpZCk7XG4gIH07XG5cbiAgX3RvZ2dsZUJ1dHRvbiA9ICgpID0+IHtcbiAgICBjb25zdCB7IGluYWN0aXZlQnV0dG9uQ2xhc3MgfSA9IHRoaXMuX3NldHRpbmdzO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBpbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuXG4gICAgaWYgKHRoaXMuX2hhc1ZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5lbmFibGVCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XG4gICAgfVxuICB9O1xuXG4gIGVuYWJsZUJ1dHRvbiA9ICgpID0+IHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgfTtcblxuICBkaXNhYmxlQnV0dG9uID0gKCkgPT4ge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIH07XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XG4gICAgfSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XG4iLCJleHBvcnQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGRhdGEsIHVzZXJJZCwgdGVtcGxhdGVDYXJkU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlTGlrZUljb24sIGhhbmRsZURlbGV0ZUNsaWNrKSB7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xuXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xuXG4gICAgdGhpcy5fdGVtcGxhdGVDYXJkU2VsZWN0b3IgPSB0ZW1wbGF0ZUNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlTGlrZUljb24gPSBoYW5kbGVMaWtlSWNvbjtcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xuICB9XG5cbiAgZ2V0SWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lkXG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVDYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2NhcmQnKTtcbiAgfVxuXG4gIC8vIF9oYW5kbGVDYXJkRGVsZXRlID0gKCkgPT4ge1xuICAvLyAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAvLyB9XG5cbiAgX2FkZEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVMaWtlSWNvbigpKTtcbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVEZWxldGVDbGljayh0aGlzLl9pZCkpO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKSk7XG5cbiAgfVxuXG4gIHNldExpa2VDb3VudGVyKG5ld0xpa2VzKSB7ICAgLy9sZW5ndGgga8Sxc23EsW7EsSBva3V5YW3EsXlvciBrYXJ0IGVrbGVuZW1peW9yIC0gaGFuZGxlY2FyZHN1Ym1pdCBmb25rc2l5b251bmEgbGlrZXMgdmUgX2lkIGVrbGV5ZXJlayDDp8O2emTDvCBeXisrXG4gICAgdGhpcy5fbGlrZXMgPSBuZXdMaWtlcztcblxuICAgIGNvbnN0IGxpa2VDb3VudGVyID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fY2FyZF9saWtlcycpLnRleHRDb250ZW50ID0gbGlrZUNvdW50ZXI7XG5cbiAgICBjb25zdCBsaWtlQ2xpY2tlZGJ5Q3VycmVudFVzZXIgPSB0aGlzLmlzTGlrZWQoKTtcbiAgICBpZihsaWtlQ2xpY2tlZGJ5Q3VycmVudFVzZXIpIHtcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnZWxlbWVudHNfX2J1dHRvbi1saWtlX2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2VsZW1lbnRzX19idXR0b24tbGlrZV9hY3RpdmUnKTtcbiAgICB9XG4gIH1cblxuICBpc0xpa2VkKCl7XG4gICAgcmV0dXJuIHRoaXMuX2xpa2VzLmZpbmQodXNlciA9PiB1c2VyLl9pZCA9PT0gdGhpcy5fdXNlcklkKTtcbiAgfVxuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCkuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19pbWFnZScpO1xuICAgIHRoaXMuX2NhcmROYW1lID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19jYXJkLXRleHQnKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19idXR0b24tbGlrZScpO1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fYnV0dG9uLWRlbGV0ZScpO1xuXG4gICAgLy9jYXJkIC8vIGRlc3RydWN0dXJpbmcgYXNzaWdubWVudC8vXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZE5hbWUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuXG4gICAgdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLnNldExpa2VDb3VudGVyKHRoaXMuX2xpa2VzKTtcblxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcbiAgfVxufVxuXG4iLCJjb25zdCBQT1BVUF9DTEFTUyA9ICdwb3B1cCc7XG5jb25zdCBDTE9TRV9CVVRUT05fQ0xBU1MgPSAncG9wdXBfX2Nsb3NlJztcbmNvbnN0IFBPUFVQX1NFTEVDVE9SX0NMQVNTID0gJ3BvcHVwX29wZW4nO1xuXG5leHBvcnQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpXG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoUE9QVVBfU0VMRUNUT1JfQ0xBU1MpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFBPUFVQX1NFTEVDVE9SX0NMQVNTKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFBPUFVQX0NMQVNTKSB8fFxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhDTE9TRV9CVVRUT05fQ0xBU1MpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cbi8vKioqIG1vdXNlZG93biByZXBsYWNlZCBjbGljayB0byBwcmV2ZW50IHRoZSBidWcgaWYgeW91IGNsaWNrIGluc2lkZSBhIHBvcHVwIGFuZCB0aGVuIG1vdmUgeW91ciBtb3VzZSBvdXRzaWRlIGl0XG4vLyBhbmQgcmVsZWFzZSB0aGUgYnV0dG9uIGFib3ZlIHRoZSBvdmVybGF5IHRoZW4gdGhlIHBvcHVwIGNsb3NlcyBidXQgaXTigJlzIG5vdFxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlU3VibWl0Rm9ybSApIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKVxuXG4gICAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSA9IGhhbmRsZVN1Ym1pdEZvcm1cbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJylcbiAgICB0aGlzLl9pbnB1dHMgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKSAgICAgICAvL1suLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKV1cbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCB2YWx1ZXMgPSB7fVxuXG5cbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGNvbnN0IGtleSA9IGlucHV0LmlkXG4gICAgICBjb25zdCB2YWx1ZSA9IGlucHV0LnZhbHVlXG4gICAgICB2YWx1ZXNba2V5XSA9IHZhbHVlXG4gICAgfSlcbiAgICByZXR1cm4gdmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpXG5cbiAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lciggJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgICAgICAgLy9jb25zb2xlLmxvZygnaW5wdXQgdGFrZW4nKVxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgICAgICAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gIHNldElucHV0VmFsdWVzKGRhdGEpe1xuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQudmFsdWUgPSBkYXRhW2lucHV0Lm5hbWVdO1xuICAgIH0pXG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICAgIHN1cGVyLmNsb3NlKClcbiAgICAgIHRoaXMuX2Zvcm0ucmVzZXQoKVxuICB9XG5cbn1cblxuIiwiY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmxcbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzXG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvdXNlcnMvbWUnLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSkudGhlbiggcmVzID0+IHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzVGV4dCkpXG4gICAgLy8gLmNhdGNoKGVyciA9PiB7XG4gICAgLy8gICBjb25zb2xlLmxvZygnQXBpIGhhcyBhbiBlcnJvciEhIScpXG4gICAgLy8gfSlcbiAgfVxuXG4gIGVkaXRQcm9maWxlKG5hbWUsIGFib3V0KSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL3VzZXJzL21lJywge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBhYm91dCxcbiAgICAgIH0pXG4gICAgfSkudGhlbihyZXMgPT4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSlcbiAgfVxuXG4gIGVkaXRBdmF0YXIoYXZhdGFyKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL3VzZXJzL21lL2F2YXRhcicsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyXG4gICAgICB9KVxuICAgIH0pLnRoZW4ocmVzID0+IHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzVGV4dCkpXG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzJywge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pLnRoZW4oIHJlcyA9PiByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1c1RleHQpKVxuICB9IC8vbmFtZSAgJiBsaW5rIGluIHRoZSBib2R5IGNoZWNrIG0uXG5cbiAgYWRkQ2FyZChuYW1lLCBsaW5rKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzJywge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGxpbmssXG4gICAgICB9KVxuICAgIH0pLnRoZW4ocmVzID0+IHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzVGV4dCkpXG4gIH1cblxuICBhZGRMaWtlKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzL2xpa2VzLycgKyBpZCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pLnRoZW4ocmVzID0+IHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzVGV4dCkpXG4gIH1cblxuICByZW1vdmVMaWtlKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzL2xpa2VzLycgKyBpZCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pLnRoZW4ocmVzID0+IHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzVGV4dCkpXG4gIH1cblxuXG59XG5cbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0zLWVuXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjkzOThhNDgzLTQ4NGUtNGViZC1hMzc0LWI2YjNiOTg1ZTljNFwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gIH1cbn0pOyAvLyB0aGlzLl9iYXNlVXJsIC8vIHRoaXMuX2hlYWRlcnNcbiIsIlxuaW1wb3J0IFwiLi4vcGFnZS9pbmRleC5jc3NcIjsgLy8gbWFpbiBicmlkZ2UgdG8gY3NzIGZpbGVzIGFmdGVyIHdlYnBhY2sgYnVpbGQgYWx3YXlzIGluc3RhbGwgMXN0XG5cbmltcG9ydCB7IHNldHRpbmdzLCBlZGl0Rm9ybSwgYWRkQ2FyZEZvcm0sIGVkaXRCdXR0b24sIGlucHV0TmFtZSwgaW5wdXRQcm9mZXNzaW9uLFxuICBhZGRCdXR0b24sIHByb2ZpbGVBdmF0YXIsIGF2YXRhckNoYW5nZSB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0IHsgQ2FyZCB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuaW1wb3J0IHsgUG9wdXBXaXRoSW1hZ2UgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuXG5pbXBvcnQgeyBhcGksIEFwaSB9IGZyb20gXCIuLi91dGlscy9BcGkuanNcIjtcbi8vaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFwiO1xuXG5sZXQgdXNlcklkXG5cbi8vYXBpLmdldFVzZXJJbmZvICYgYXBpLmdldEluaXRpYWxDYXJkcyBjb21iaW5lZCB3aXRoIFByb21pc2UuXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pXG4gIC50aGVuKChbdXNlckRhdGEsIGNhcmRzXSkgPT4ge1xuICAgIHVzZXJJZCA9IHVzZXJEYXRhLl9pZCAgLy91c2VyRGF0YS5fdXNlcklkXG4gICAgLy9jb25zb2xlLmxvZygndXNlciA9PicsIHVzZXJEYXRhKVxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhLm5hbWUsICB1c2VyRGF0YS5hYm91dCwgdXNlckRhdGEuYXZhdGFyKVxuICAgIHNlY3Rpb24ucmVuZGVyZXJJdGVtcyhjYXJkcylcbiAgfSlcbiAgLmNhdGNoKGNvbnNvbGUubG9nKVxuXG4vL2Zvcm0gdmFsaWRhdG9yIHNldHRpbmdzIGRvbSByZWZlcmVuY2VzLy9cbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIHNldHRpbmdzLFxuICAgZWRpdEZvcm1cbiAgKTtcbmNvbnN0IGFkZENhcmRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIHNldHRpbmdzLFxuICBhZGRDYXJkRm9ybVxuICApO1xuXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIHNldHRpbmdzLFxuICBhdmF0YXJDaGFuZ2Vcbik7XG5cbi8vIGNvbnN0IGNvbmZpcm1EZWxldGVGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4vLyAgIHNldHRpbmdzLFxuLy8gICBhdmF0YXJDaGFuZ2Vcbi8vICk7XG5cbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmFkZENhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuZWRpdEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG5cblxuLy9hZGRjYXJkc3VibWl0XG5jb25zdCBoYW5kbGVDYXJkU3VibWl0ID0gKGRhdGEpID0+IHtcbiAgYXBpLmFkZENhcmQoZGF0YS5jYXJkVGl0bGUsIGRhdGEuY2FyZEltYWdlTGluaylcbiAgLnRoZW4ocmVzID0+IHtcbiAgICAvL2NvbnNvbGUubG9nKCdyZXMgPT4nLCByZXMpXG4gICAgY29uc3QgY2FyZCA9IHtcbiAgICAgIG5hbWU6IHJlcy5uYW1lLFxuICAgICAgbGluazogcmVzLmxpbmssXG4gICAgICBsaWtlczogcmVzLmxpa2VzLFxuICAgICAgX2lkOiByZXMuX2lkLFxuICAgIH07XG4gICAgc2VjdGlvbi5hZGRJdGVtKGNhcmQpO1xuICB9KVxuICAuY2F0Y2goY29uc29sZS5sb2cpXG5cbiAgYWRkQ2FyZFBvcHVwLmNsb3NlKCk7XG59XG4vL2VkaXRwcm9maWxlIHN1Ym1pdFxuY29uc3QgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQgPSAoZGF0YSkgPT4ge1xuICBhcGkuZWRpdFByb2ZpbGUoZGF0YS5uYW1lLCBkYXRhLnByb2Zlc3Npb24pXG4gIC50aGVuKCByZXMgPT4ge1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcy5uYW1lLCBkYXRhLnByb2Zlc3Npb24sIHJlcy5hdmF0YXIpXG4gIH0pXG4gIC5jYXRjaChjb25zb2xlLmxvZylcbiAgLmZpbmFsbHkoICgpID0+IHtcbiAgICBlZGl0UHJvZmlsZVBvcHVwLmNsb3NlKClcbiAgfSlcbn07XG5cbi8vYXZhdGFyIFBpY3R1cmUgU3VibWl0XG5jb25zdCBoYW5kbGVBdmF0YXJTdWJtaXQgPSAoZGF0YSkgPT4ge1xuICBhcGkuZWRpdEF2YXRhciggZGF0YS5saW5rKVxuICAudGhlbiggcmVzID0+IHtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXMubmFtZSwgcmVzLmFib3V0LCByZXMuYXZhdGFyKVxuICB9KVxuICAuY2F0Y2goY29uc29sZS5sb2cpXG4gIC5maW5hbGx5KCAoKSA9PiB7XG4gICAgYXZhdGFyQ2hhbmdlUG9wdXAuY2xvc2UoKTtcbiAgfSlcbn07XG5cbi8vY29uZmlybSBDYXJkIERlbGV0ZSBGdW5jdGlvblxubGV0IGNhcmRJZFRvRGVsZXRlXG5jb25zdCBoYW5kbGVEZWxldGVDbGljayA9IChpZCkgPT4ge1xuICBjb25maXJtQ2FyZERlbGV0ZS5vcGVuKClcblxuICBjYXJkSWRUb0RlbGV0ZSA9IGlkXG5cbiAgY29uc29sZS5sb2coJ2lkID0+JywgaWQpXG59XG5cbmNvbnN0IGVkaXRQcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSgnI3BvcHVwLXRlbXBsYXRlJywgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQpXG5lZGl0UHJvZmlsZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKClcblxuY29uc3QgYXZhdGFyQ2hhbmdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSgnI3BvcHVwLXRlbXBsYXRlLWF2YXRhcicsIGhhbmRsZUF2YXRhclN1Ym1pdClcbmF2YXRhckNoYW5nZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKClcblxuY29uc3QgYWRkQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oJyNwb3B1cC10ZW1wbGF0ZS1mb3JtJywgaGFuZGxlQ2FyZFN1Ym1pdClcbmFkZENhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpIC8vb25seSBjYWxsIG9uY2UgLCBuZXZlciBpbiBpZiBsb29wIGV0Y1xuXG5jb25zdCBjb25maXJtQ2FyZERlbGV0ZSA9IG5ldyBQb3B1cFdpdGhGb3JtKCcjcG9wdXAtdGVtcGxhdGUtY29uZmlybScsIGhhbmRsZURlbGV0ZUNsaWNrKVxuY29uZmlybUNhcmREZWxldGUuc2V0RXZlbnRMaXN0ZW5lcnMoKVxuXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKCcjcG9wdXAtaW1hZ2UnKVxuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBjcmVhdGVDYXJkID0gKGRhdGEpID0+IHtcbiAgY29uc3QgaXRlbSA9IG5ldyBDYXJkIChcbiAgICBkYXRhLFxuICAgIHVzZXJJZCxcbiAgICAnI2NhcmQtdGVtcGxhdGUnLFxuICAobmFtZSwgbGluaykgPT4geyAgIC8vNHRoIGNvbnN0cnVjdG9yIGl0ZW0gaGFuZGxlQ2FyZENsaWNrXG4gICAgaW1hZ2VQb3B1cC5vcGVuKG5hbWUsIGxpbmspXG4gICAgfSxcbiAgICAoKSA9PiB7ICAgLy81dGggIGNvbnN0cnVjdG9yIGl0ZW0gaGFuZGxlTGlrZUljb25cbiAgICAgIGlmKGl0ZW0uaXNMaWtlZCgpKSB7XG4gICAgICAgIGFwaS5yZW1vdmVMaWtlKGl0ZW0uZ2V0SWQoKSlcbiAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICBpdGVtLnNldExpa2VDb3VudGVyKHJlcy5saWtlcylcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKFwieW91IGRvbid0IGxpa2UgaXRcIilcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwaS5hZGRMaWtlKGl0ZW0uZ2V0SWQoKSlcbiAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICBpdGVtLnNldExpa2VDb3VudGVyKHJlcy5saWtlcylcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKFwieW91IGxpa2UgaXQhXCIpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSxcbiAgICAoKSA9PiBoYW5kbGVEZWxldGVDbGljaygpIC8vNnRoIGNvbnN0cmN1dG9yIGl0ZW0gaGFuZGxlRGVsZXRlQ2xpY2tcbiAgKTtcblxuIHJldHVybiBpdGVtLmdlbmVyYXRlQ2FyZCgpO1xufVxuXG5jb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gICAge1xuICAgICAgcmVuZGVyZXI6IGNyZWF0ZUNhcmQsXG4gICAgfSxcbiAgICAnLmVsZW1lbnRzX19jYXJkcydcbiAgKVxuXG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgcHJvZmlsZU5hbWVTZWxlY3RvcjogJy5wcm9maWxlX19oZWFkZXInLFxuICBwcm9maWxlUHJvZmVzc2lvblNlbGVjdG9yOiAnLnByb2ZpbGVfX3Byb2Zlc3Npb24nLFxuICBwcm9maWxlQXZhdGFyOiAnLnByb2ZpbGVfX2ltYWdlJyxcbn0pXG5cblxuZnVuY3Rpb24gb3BlblByb2ZpbGVQb3B1cCgpIHtcbiAgY29uc3QgcHJvZmlsZUluZm8gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuXG4gIGlucHV0TmFtZS52YWx1ZSA9IHByb2ZpbGVJbmZvLm5hbWU7XG4gIGlucHV0UHJvZmVzc2lvbi52YWx1ZSA9IHByb2ZpbGVJbmZvLnByb2Zlc3Npb247XG5cbiAgZWRpdEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7IC8vMiBrZXJlIG1pIHJlc2V0bGVuZGkgYmFrYWzEsW1cbiAgZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlQnV0dG9uKCk7XG4gIGVkaXRQcm9maWxlUG9wdXAub3BlbigpO1xufVxuXG4vL0V2ZW50IGhhbmRsZXJzXG5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblByb2ZpbGVQb3B1cCk7XG5cblxuXG5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGFkZENhcmRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xuICBhZGRDYXJkRm9ybVZhbGlkYXRvci5kaXNhYmxlQnV0dG9uKCk7XG4gIGFkZENhcmRQb3B1cC5vcGVuKCk7XG59KVxuXG5cbnByb2ZpbGVBdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGF2YXRhckZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGF2YXRhckZvcm1WYWxpZGF0b3IuZGlzYWJsZUJ1dHRvbigpO1xuICBhdmF0YXJDaGFuZ2VQb3B1cC5vcGVuKCk7XG59KVxuXG5cbiIsIlxuaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKVxuICAgIHRoaXMuX3N1YnRpdGxlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19zdWJ0aXRsZScpO1xuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWFnZScpO1xuICB9XG5cblxuICBvcGVuKG5hbWUsIGxpbmspIHtcblxuICAgIHN1cGVyLm9wZW4oKVxuICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcbiAgICAgIHRoaXMuX2ltYWdlLmFsdCA9IG5hbWU7XG4gICAgICB0aGlzLl9zdWJ0aXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XG5cbiAgfVxuXG59XG4iLCJcbmV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXIgKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lcik7XG4gIH1cblxuXG5cbiAgcmVuZGVyZXJJdGVtcyhpdGVtcykge1xuICAgIGl0ZW1zLmZvckVhY2goKGRhdGEpID0+IHtcbiAgICAgICAgdGhpcy5hZGRJdGVtKGRhdGEpXG4gICAgfSlcbiAgfTtcblxuICBhZGRJdGVtKGRhdGEpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fcmVuZGVyZXIoZGF0YSlcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KVxuICB9O1xuXG5cbn1cbiIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHtwcm9maWxlTmFtZVNlbGVjdG9yLCBwcm9maWxlUHJvZmVzc2lvblNlbGVjdG9yLCBwcm9maWxlQXZhdGFyfSlcbiAge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVOYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX3Byb2ZpbGVQcm9mZXNzaW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlUHJvZmVzc2lvblNlbGVjdG9yKTtcbiAgICB0aGlzLl9wcm9maWxlQXZhdGFyPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVBdmF0YXIpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKXtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQsXG4gICAgICBwcm9mZXNzaW9uOiB0aGlzLl9wcm9maWxlUHJvZmVzc2lvbi50ZXh0Q29udGVudCxcbiAgICAgICAgYXZhdGFyOiB0aGlzLl9wcm9maWxlQXZhdGFyLnN0eWxlLmJhY2tncm91bmRJbWFnZVxuICAgIH1cbiAgfVxuXG4gIHNldFVzZXJJbmZvKG5hbWUsIHByb2Zlc3Npb24sIGF2YXRhcikge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9wcm9maWxlUHJvZmVzc2lvbi50ZXh0Q29udGVudCA9IHByb2Zlc3Npb247XG4gICAgdGhpcy5fcHJvZmlsZUF2YXRhci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7YXZhdGFyfSlgO1xuICB9XG5cblxufVxuIl0sIm5hbWVzIjpbInByb2ZpbGVBdmF0YXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9maWxlUG9wdXAiLCJlZGl0QnV0dG9uIiwiaW5wdXROYW1lIiwiaW5wdXRQcm9mZXNzaW9uIiwiYWRkQnV0dG9uIiwic2V0dGluZ3MiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImVkaXRGb3JtIiwiYWRkQ2FyZEZvcm0iLCJhdmF0YXJDaGFuZ2UiLCJjb25zdHJ1Y3RvciIsImZvcm1FbGVtZW50IiwiaW5wdXQiLCJlcnJvck1lc3NhZ2UiLCJ0aGlzIiwiX3NldHRpbmdzIiwiZXJyb3JFbGVtZW50IiwiX2Zvcm1FbGVtZW50IiwiaWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsInJlbW92ZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfdG9nZ2xlQnV0dG9uIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiZXZlcnkiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9oYXNWYWxpZElucHV0IiwiZW5hYmxlQnV0dG9uIiwiZGlzYWJsZUJ1dHRvbiIsIl9zdWJtaXRCdXR0b24iLCJkaXNhYmxlZCIsInJlc2V0VmFsaWRhdGlvbiIsImVuYWJsZVZhbGlkYXRpb24iLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsIkNhcmQiLCJkYXRhIiwidXNlcklkIiwidGVtcGxhdGVDYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVMaWtlSWNvbiIsImhhbmRsZURlbGV0ZUNsaWNrIiwiX2xpa2VCdXR0b24iLCJfaGFuZGxlTGlrZUljb24iLCJfZGVsZXRlQnV0dG9uIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiX2lkIiwiX2NhcmRJbWFnZSIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfbmFtZSIsIl9saW5rIiwiX2RhdGEiLCJuYW1lIiwibGluayIsIl9saWtlcyIsImxpa2VzIiwiX3VzZXJJZCIsIl90ZW1wbGF0ZUNhcmRTZWxlY3RvciIsImdldElkIiwiX2dldFRlbXBsYXRlIiwiY29udGVudCIsInNldExpa2VDb3VudGVyIiwibmV3TGlrZXMiLCJsaWtlQ291bnRlciIsImxlbmd0aCIsIl9jYXJkRWxlbWVudCIsImlzTGlrZWQiLCJmaW5kIiwidXNlciIsImdlbmVyYXRlQ2FyZCIsImNsb25lTm9kZSIsIl9jYXJkTmFtZSIsInNyYyIsImFsdCIsIl9hZGRFdmVudExpc3RlbmVycyIsIlBPUFVQX1NFTEVDVE9SX0NMQVNTIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsImtleSIsImNsb3NlIiwib3BlbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZVN1Ym1pdEZvcm0iLCJzdXBlciIsIl9oYW5kbGVTdWJtaXRGb3JtIiwiX2Zvcm0iLCJfaW5wdXRzIiwiX2dldElucHV0VmFsdWVzIiwidmFsdWVzIiwidmFsdWUiLCJlIiwic2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsImFwaSIsIm9wdGlvbnMiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJnZXRVc2VySW5mbyIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXNUZXh0IiwiZWRpdFByb2ZpbGUiLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZWRpdEF2YXRhciIsImF2YXRhciIsImdldEluaXRpYWxDYXJkcyIsImFkZENhcmQiLCJhZGRMaWtlIiwicmVtb3ZlTGlrZSIsImF1dGhvcml6YXRpb24iLCJhbGwiLCJ1c2VyRGF0YSIsImNhcmRzIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsInNlY3Rpb24iLCJyZW5kZXJlckl0ZW1zIiwiY2F0Y2giLCJjb25zb2xlIiwibG9nIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwiYWRkQ2FyZEZvcm1WYWxpZGF0b3IiLCJhdmF0YXJGb3JtVmFsaWRhdG9yIiwiY2FyZElkVG9EZWxldGUiLCJjb25maXJtQ2FyZERlbGV0ZSIsImVkaXRQcm9maWxlUG9wdXAiLCJwcm9mZXNzaW9uIiwiZmluYWxseSIsImF2YXRhckNoYW5nZVBvcHVwIiwiYWRkQ2FyZFBvcHVwIiwiY2FyZFRpdGxlIiwiY2FyZEltYWdlTGluayIsImNhcmQiLCJhZGRJdGVtIiwiaW1hZ2VQb3B1cCIsIl9zdWJ0aXRsZSIsIl9pbWFnZSIsImNvbnRhaW5lciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwiZWxlbWVudCIsInByZXBlbmQiLCJpdGVtIiwicHJvZmlsZU5hbWVTZWxlY3RvciIsInByb2ZpbGVQcm9mZXNzaW9uU2VsZWN0b3IiLCJfcHJvZmlsZU5hbWUiLCJfcHJvZmlsZVByb2Zlc3Npb24iLCJfcHJvZmlsZUF2YXRhciIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwicHJvZmlsZUluZm8iXSwic291cmNlUm9vdCI6IiJ9