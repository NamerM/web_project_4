!function(){"use strict";const e=document.querySelector(".profile__image"),t=document.querySelector(".popup_type_profile"),s=document.querySelector(".profile__button"),i=(t.querySelector(".popup__close"),t.querySelector(".popup__input_type_name")),r=t.querySelector(".popup__input_type_profession"),n=document.querySelector(".add-button"),o=(document.querySelector(".elements__cards"),{inputSelector:".popup__input",submitButtonSelector:".popup__save",inactiveButtonClass:"popup__save_disabled",inputErrorClass:"popup__input-error_open",errorClass:"popup__error_visible"}),a=document.querySelector(".popup__form_edit"),l=document.querySelector(".popup__form_cards"),c=document.querySelector(".popup__form_avatar");function h(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var d=class{constructor(e,t){h(this,"_showInputError",((e,t)=>{const{inputErrorClass:s,errorClass:i}=this._settings,r=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(i),r.textContent=t,r.classList.add(s)})),h(this,"_hideInputError",(e=>{const{inputErrorClass:t,errorClass:s}=this._settings,i=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(s),i.classList.remove(t),i.textContent=""})),h(this,"_checkInputValidity",(e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)})),h(this,"_setEventListeners",(()=>{const{inputSelector:e}=this._settings;this.inputList=Array.from(this._formElement.querySelectorAll(e)),this._toggleButton(),this.inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButton()}))}))})),h(this,"_hasValidInput",(()=>this.inputList.every((e=>e.validity.valid)))),h(this,"_toggleButton",(()=>{const{inactiveButtonClass:e}=this._settings;this._inactiveButtonClass=e,this._hasValidInput()?this.enableButton():this.disableButton()})),h(this,"enableButton",(()=>{this._submitButton.disabled=!1,this._submitButton.classList.remove(this._inactiveButtonClass)})),h(this,"disableButton",(()=>{this._submitButton.disabled=!0,this._submitButton.classList.add(this._inactiveButtonClass)})),this._settings=e,this._formElement=t,this._submitButton=this._formElement.querySelector(this._settings.submitButtonSelector)}resetValidation(){this.inputList.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}};class u{constructor(e,t,s,i,r,n){this._data=e,this._name=e.name,this._link=e.link,this._likes=e.likes,this._id=e._id,this._userId=t,this._ownerId=e.owner._id,this._templateCardSelector=s,this._handleCardClick=i,this._handleLikeIcon=r,this._handleDeleteClick=n}getId(){return this._id}_getTemplate(){return document.querySelector(this._templateCardSelector).content.querySelector(".elements__card")}_addEventListeners(){this._likeButton.addEventListener("click",(()=>this._handleLikeIcon())),this._deleteButton.addEventListener("click",(()=>this._handleDeleteClick(this))),this._cardImage.addEventListener("click",(()=>this._handleCardClick(this._name,this._link)))}removeCard(){this._cardElement.remove(),this._cardElement=null}setLikeCounter(e){this._likes=e;const t=this._likes.length;this._cardElement.querySelector(".elements__card_likes").textContent=t,this.isLiked()?this._likeButton.classList.add("elements__button-like_active"):this._likeButton.classList.remove("elements__button-like_active")}isLiked(){return this._likes.find((e=>e._id===this._userId))}generateCard(){return this._cardElement=this._getTemplate().cloneNode(!0),this._cardImage=this._cardElement.querySelector(".elements__image"),this._cardName=this._cardElement.querySelector(".elements__card-text"),this._likeButton=this._cardElement.querySelector(".elements__button-like"),this._deleteButton=this._cardElement.querySelector(".elements__button-delete"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardName.textContent=this._name,this._addEventListeners(),this.setLikeCounter(this._likes),this._userId!==this._ownerId&&(this._deleteButton.style.display="none"),this._cardElement}}const _="popup_open";class p{constructor(e){this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}_handleEscClose(e){"Escape"===e.key&&this.close()}open(){this._popup.classList.add(_),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove(_),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._popup.addEventListener("mousedown",(e=>{(e.target.classList.contains("popup")||e.target.classList.contains("popup__close"))&&this.close()}))}}class m extends p{constructor(e,t){super(e),this._handleSubmitForm=t,this._form=this._popup.querySelector(".popup__form"),this._inputs=this._form.querySelectorAll(".popup__input")}_getInputValues(){const e={};return this._inputs.forEach((t=>{const s=t.id,i=t.value;e[s]=i})),e}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmitForm(this._getInputValues())}))}setInputValues(e){this._inputs.forEach((t=>{t.value=e[t.name]}))}changeSubmitHandler(e){this._handleSubmitForm=e}changeText(e){const t=this._popup.querySelector(".popup__save");"Saving"===e&&(t.textContent="Saving..."),"Default"===e&&(t.textContent="Save")}close(){super.close(),this._form.reset()}}const f=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}getUserInfo(){return fetch(this._baseUrl+"/users/me",{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}editProfile(e,t){return fetch(this._baseUrl+"/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}editAvatar(e){return fetch(this._baseUrl+"/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}getInitialCards(){return fetch(this._baseUrl+"/cards",{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}addCard(e,t){return fetch(this._baseUrl+"/cards",{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}addLike(e){return fetch(this._baseUrl+"/cards/likes/"+e,{method:"PUT",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}removeLike(e){return fetch(this._baseUrl+"/cards/likes/"+e,{method:"DELETE",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}deleteCard(e){return fetch(this._baseUrl+"/cards/"+e,{method:"DELETE",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}}({baseUrl:"https://around.nomoreparties.co/v1/cohort-3-en",headers:{authorization:"9398a483-484e-4ebd-a374-b6b3b985e9c4","Content-Type":"application/json"}});let v;Promise.all([f.getUserInfo(),f.getInitialCards()]).then((e=>{let[t,s]=e;v=t._id,x.setUserInfo(t.name,t.about,t.avatar),q.rendererItems(s)})).catch(console.log);const g=new d(o,a),b=new d(o,l),k=new d(o,c);g.enableValidation(),b.enableValidation(),k.enableValidation(),g.resetValidation();const E=e=>{C.open(),C.changeSubmitHandler((()=>{f.deleteCard(e.getId()).then((()=>{e.removeCard()})),C.close()}))},y=new m("#popup-template",(e=>{y.changeText("Saving"),f.editProfile(e.name,e.profession).then((t=>{x.setUserInfo(t.name,e.profession,t.avatar),y.changeText("Default")})).catch(console.log).finally((()=>{y.close()}))}));y.setEventListeners();const S=new m("#popup-template-avatar",(e=>{S.changeText("Saving"),f.editAvatar(e.link).then((e=>{x.setUserInfo(e.name,e.about,e.avatar),S.changeText("Default")})).catch(console.log).finally((()=>{S.close()}))}));S.setEventListeners();const L=new m("#popup-template-form",(e=>{L.changeText("Saving"),f.addCard(e.cardTitle,e.cardImageLink).then((e=>{q.addItem(e),L.changeText("Default")})).catch(console.log),L.close()}));L.setEventListeners();const C=new m("#popup-template-confirm",E);C.setEventListeners();const I=new class extends p{constructor(e){super(e),this._subtitle=this._popup.querySelector(".popup__subtitle"),this._image=this._popup.querySelector(".popup__image")}open(e,t){super.open(),this._image.src=t,this._image.alt=e,this._subtitle.textContent=e}}("#popup-image");I.setEventListeners();const q=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}rendererItems(e){e.forEach((e=>{this.addItem(e)}))}addItem(e){const t=this._renderer(e);this._container.prepend(t)}}({renderer:e=>{const t=new u(e,v,"#card-template",(()=>(e=>{I.open(e.name,e.link)})(e)),(()=>{var e;(e=t).isLiked()?f.removeLike(e.getId()).then((t=>{e.setLikeCounter(t.likes)})):f.addLike(e.getId()).then((t=>{e.setLikeCounter(t.likes)}))}),(e=>E(e)));return t.generateCard()}},".elements__cards"),x=new class{constructor(e){let{profileNameSelector:t,profileProfessionSelector:s,profileAvatar:i}=e;this._profileName=document.querySelector(t),this._profileProfession=document.querySelector(s),this._profileAvatar=document.querySelector(i)}getUserInfo(){return{name:this._profileName.textContent,profession:this._profileProfession.textContent,avatar:this._profileAvatar.style.backgroundImage}}setUserInfo(e,t,s){this._profileName.textContent=e,this._profileProfession.textContent=t,this._profileAvatar.style.backgroundImage="url(".concat(s,")")}}({profileNameSelector:".profile__header",profileProfessionSelector:".profile__profession",profileAvatar:".profile__image"});s.addEventListener("click",(function(){const e=x.getUserInfo();i.value=e.name,r.value=e.profession,g.resetValidation(),g.enableButton(),y.open()})),n.addEventListener("click",(()=>{b.resetValidation(),b.disableButton(),L.open()})),e.addEventListener("click",(()=>{k.resetValidation(),k.disableButton(),S.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFuRCxPSDRIMEIsQ0FDNUIwQyxvQkFBcUIsbUJBQ3JCQywwQkFBMkIsdUJBQzNCbk0sY0FBZSxvQkFlakJJLEVBQVdxQyxpQkFBaUIsU0FaNUIsV0FDRSxNQUFNK0osRUFBY3RDLEVBQVMxQixjQUU3Qm5JLEVBQVVvSCxNQUFRK0UsRUFBWXhJLEtBQzlCMUQsRUFBZ0JtSCxNQUFRK0UsRUFBWXhCLFdBRXBDUCxFQUFrQnZILGtCQUNsQnVILEVBQWtCM0gsZUFDbEJpSSxFQUFpQm5FLFVBTW5CckcsRUFBVWtDLGlCQUFpQixTQUFTLEtBQ2xDa0ksRUFBcUJ6SCxrQkFDckJ5SCxFQUFxQjVILGdCQUNyQm9JLEVBQWF2RSxVQUdmNUcsRUFBY3lDLGlCQUFpQixTQUFTLEtBQ3RDbUksRUFBb0IxSCxrQkFDcEIwSCxFQUFvQjdILGdCQUNwQm1JLEVBQWtCdEUsVSIsInNvdXJjZXMiOlsid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0ucHJvamVjdC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWN0aWN1bS5wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLnByb2plY3QvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0ucHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0ucHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWN0aWN1bS5wcm9qZWN0Ly4vc3JjL3V0aWxzL0FwaS5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLnByb2plY3QvLi9zcmMvcGFnZS9pbmRleC5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLnByb2plY3QvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLnByb2plY3QvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0ucHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vRm9yIFByb2ZpbGUgYW5kIHBvcHVwIGVsZW1lbnRzXG5jb25zdCBwcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZVwiKTtcblxuY29uc3QgcHJvZmlsZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX3Byb2ZpbGVcIik7IC8vLnBvcHVwIGJhc3Rha2kgc2lsaW5kaVxuY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYnV0dG9uXCIpO1xuY29uc3QgY2xvc2VCdXR0b24gPSBwcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2VcIik7XG5jb25zdCBpbnB1dE5hbWUgPSBwcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV9uYW1lXCIpO1xuY29uc3QgaW5wdXRQcm9mZXNzaW9uID0gcHJvZmlsZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3R5cGVfcHJvZmVzc2lvblwiKTtcblxuLy8gLy8vLy9DQVJEU1xuXG5jb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1idXR0b25cIik7XG5cbi8vIFdyYXBwZXJzXG5jb25zdCBlbGVtZW50c0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19jYXJkc1wiKTtcblxuY29uc3Qgc2V0dGluZ3MgPSB7XG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX3NhdmVcIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fc2F2ZV9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0LWVycm9yX29wZW5cIixcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9fZXJyb3JfdmlzaWJsZVwiLFxufTtcblxuY29uc3QgZWRpdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX2VkaXRcIik7XG5jb25zdCBhZGRDYXJkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1fY2FyZHNcIik7XG5jb25zdCBhdmF0YXJDaGFuZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX2F2YXRhclwiKTtcblxuXG5leHBvcnQge1xuICBzZXR0aW5ncywgZWRpdEZvcm0sIGFkZENhcmRGb3JtLCBhdmF0YXJDaGFuZ2UsIGVkaXRCdXR0b24sIGNsb3NlQnV0dG9uLCBpbnB1dE5hbWUsIGlucHV0UHJvZmVzc2lvbixcbiAgYWRkQnV0dG9uLCBlbGVtZW50c0xpc3QsIHByb2ZpbGVBdmF0YXJcbn07XG5cblxuXG4vL2NvbnN0IHByb2ZpbGVJbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbmZvXCIpO1xuLy8gY29uc3QgcHJvZmlsZU5hbWUgPSBwcm9maWxlSW5mby5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2hlYWRlclwiKTtcbi8vIGNvbnN0IHByb2ZpbGVQcm9mZXNzaW9uID0gcHJvZmlsZUluZm8ucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19wcm9mZXNzaW9uXCIpO1xuLy8gY29uc3QgcG9wdXBMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cFwiKTtcbi8vIGNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQuZm9ybXMucHJvZmlsZUZvcm07IC8vcXVlcnlTZWxlY3RvcignLnBvcHVwX2Zvcm0nKTsvL1xuLy8gY29uc3QgcG9wdXBTZWxlY3RvciA9IFwicG9wdXBfb3BlblwiO1xuXG5cbi8vIGNvbnN0IENhcmRfVGVtcGxhdGVfU2VsZWN0b3IgPSBcIiNjYXJkLXRlbXBsYXRlXCI7XG4vLyBjb25zdCBwcmV2aWV3SW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGUtcHJldmlld1wiKTtcbi8vIGNvbnN0IGNhcmREZWxldGVQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9jb25maXJtLWRlbGV0ZVwiKTtcbi8vIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2J1dHRvbl9kZWxldGVcIilcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX3NldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dCwgZXJyb3JNZXNzYWdlKSA9PiB7XG4gICAgY29uc3QgeyBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQ2xhc3MgfSA9IHRoaXMuX3NldHRpbmdzO1xuXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZChlcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoaW5wdXRFcnJvckNsYXNzKTtcbiAgfTtcblxuICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB7IGlucHV0RXJyb3JDbGFzcywgZXJyb3JDbGFzcyB9ID0gdGhpcy5fc2V0dGluZ3M7XG5cbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKGVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgfTtcblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0KSA9PiB7XG4gICAgaWYgKCFpbnB1dC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXQsIGlucHV0LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xuICAgIH1cbiAgfTtcblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBpbnB1dFNlbGVjdG9yIH0gPSB0aGlzLl9zZXR0aW5ncztcblxuICAgIHRoaXMuaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoaW5wdXRTZWxlY3RvcilcbiAgICApO1xuXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7IC8vbWV0aG9kIGNoZWNrXG5cbiAgICB0aGlzLmlucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBfaGFzVmFsaWRJbnB1dCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dExpc3QuZXZlcnkoKGlucHV0KSA9PiBpbnB1dC52YWxpZGl0eS52YWxpZCk7XG4gIH07XG5cbiAgX3RvZ2dsZUJ1dHRvbiA9ICgpID0+IHtcbiAgICBjb25zdCB7IGluYWN0aXZlQnV0dG9uQ2xhc3MgfSA9IHRoaXMuX3NldHRpbmdzO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBpbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuXG4gICAgaWYgKHRoaXMuX2hhc1ZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5lbmFibGVCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XG4gICAgfVxuICB9O1xuXG4gIGVuYWJsZUJ1dHRvbiA9ICgpID0+IHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgfTtcblxuICBkaXNhYmxlQnV0dG9uID0gKCkgPT4ge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIH07XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XG4gICAgfSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XG4iLCJleHBvcnQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGRhdGEsIHVzZXJJZCwgdGVtcGxhdGVDYXJkU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlTGlrZUljb24sIGhhbmRsZURlbGV0ZUNsaWNrKSB7XG4gICAgLy9jb25zb2xlLmxvZyhcImRhdGFcIiwgZGF0YSk7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XG4gICAgLy9jb25zb2xlLmxvZyhcIm93bmVySWRcIiwgZGF0YS5vd25lci5faWQpXG5cbiAgICB0aGlzLl90ZW1wbGF0ZUNhcmRTZWxlY3RvciA9IHRlbXBsYXRlQ2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlSWNvbiA9IGhhbmRsZUxpa2VJY29uO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XG4gIH1cblxuICBnZXRJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5faWRcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZUNhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fY2FyZCcpO1xuICB9XG5cbiAgX2FkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVMaWtlSWNvbigpKTtcbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVEZWxldGVDbGljayh0aGlzKSk7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspKTtcbiAgfVxuXG4gIHJlbW92ZUNhcmQoKXtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XG4gIH1cblxuICBzZXRMaWtlQ291bnRlcihuZXdMaWtlcykgeyAgIC8vbGVuZ3RoIGvEsXNtxLFuxLEgb2t1eWFtxLF5b3Iga2FydCBla2xlbmVtaXlvciAtIGhhbmRsZWNhcmRzdWJtaXQgZm9ua3NpeW9udW5hIGxpa2VzIHZlIF9pZCBla2xleWVyZWsgw6fDtnpkw7wgXl4rK1xuICAgIHRoaXMuX2xpa2VzID0gbmV3TGlrZXM7XG5cbiAgICBjb25zdCBsaWtlQ291bnRlciA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2NhcmRfbGlrZXMnKS50ZXh0Q29udGVudCA9IGxpa2VDb3VudGVyO1xuXG4gICAgY29uc3QgbGlrZUNsaWNrZWRieUN1cnJlbnRVc2VyID0gdGhpcy5pc0xpa2VkKCk7XG4gICAgaWYobGlrZUNsaWNrZWRieUN1cnJlbnRVc2VyKSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRzX19idXR0b24tbGlrZV9hY3RpdmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdlbGVtZW50c19fYnV0dG9uLWxpa2VfYWN0aXZlJyk7XG4gICAgfVxuICB9XG5cbiAgaXNMaWtlZCgpe1xuICAgIHJldHVybiB0aGlzLl9saWtlcy5maW5kKHVzZXIgPT4gdXNlci5faWQgPT09IHRoaXMuX3VzZXJJZCk7XG4gIH1cblxuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCkuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19pbWFnZScpO1xuICAgIHRoaXMuX2NhcmROYW1lID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19jYXJkLXRleHQnKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19idXR0b24tbGlrZScpO1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fYnV0dG9uLWRlbGV0ZScpO1xuXG4gICAgLy9jYXJkIC8vIGRlc3RydWN0dXJpbmcgYXNzaWdubWVudC8vXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZE5hbWUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuXG4gICAgdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLnNldExpa2VDb3VudGVyKHRoaXMuX2xpa2VzKTtcblxuICAgIGlmKHRoaXMuX3VzZXJJZCAhPT0gdGhpcy5fb3duZXJJZCkge1xuICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScgLy8gZWxlbWVudHNfX2J1dHRvbi1kZWxldGVcbiAgICAgIH07XG5cbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XG4gIH1cbn1cblxuIiwiY29uc3QgUE9QVVBfQ0xBU1MgPSAncG9wdXAnO1xuY29uc3QgQ0xPU0VfQlVUVE9OX0NMQVNTID0gJ3BvcHVwX19jbG9zZSc7XG5jb25zdCBQT1BVUF9TRUxFQ1RPUl9DTEFTUyA9ICdwb3B1cF9vcGVuJztcblxuZXhwb3J0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKVxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKVxuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFBPUFVQX1NFTEVDVE9SX0NMQVNTKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShQT1BVUF9TRUxFQ1RPUl9DTEFTUyk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhQT1BVUF9DTEFTUykgfHxcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoQ0xPU0VfQlVUVE9OX0NMQVNTKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG4vLyoqKiBtb3VzZWRvd24gcmVwbGFjZWQgY2xpY2sgdG8gcHJldmVudCB0aGUgYnVnIGlmIHlvdSBjbGljayBpbnNpZGUgYSBwb3B1cCBhbmQgdGhlbiBtb3ZlIHlvdXIgbW91c2Ugb3V0c2lkZSBpdFxuLy8gYW5kIHJlbGVhc2UgdGhlIGJ1dHRvbiBhYm92ZSB0aGUgb3ZlcmxheSB0aGVuIHRoZSBwb3B1cCBjbG9zZXMgYnV0IGl04oCZcyBub3RcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZVN1Ym1pdEZvcm0gKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3RvcilcblxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdEZvcm0gPSBoYW5kbGVTdWJtaXRGb3JtXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpXG4gICAgdGhpcy5faW5wdXRzID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0JykgICAgICAgLy9bLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0JyldXG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgdmFsdWVzID0ge31cblxuXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBjb25zdCBrZXkgPSBpbnB1dC5pZFxuICAgICAgY29uc3QgdmFsdWUgPSBpbnB1dC52YWx1ZVxuICAgICAgdmFsdWVzW2tleV0gPSB2YWx1ZVxuICAgIH0pXG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKVxuXG4gICAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoICdzdWJtaXQnLCAoZSkgPT4ge1xuICAgICAgICAgIC8vY29uc29sZS5sb2coJ2lucHV0IHRha2VuJylcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdEZvcm0odGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSlcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICBzZXRJbnB1dFZhbHVlcyhkYXRhKXtcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcbiAgICB9KVxuICB9XG5cbiAgY2hhbmdlU3VibWl0SGFuZGxlcihuZXdTdWJtaXRIYW5kbGVyKSB7XG4gICAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSA9IG5ld1N1Ym1pdEhhbmRsZXJcbiAgfVxuXG4gIGNoYW5nZVRleHQodGV4dCkge1xuICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc2F2ZScpXG5cbiAgICBpZih0ZXh0ID09PSAnU2F2aW5nJykge1xuICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gJ1NhdmluZy4uLidcbiAgICB9XG4gICAgaWYodGV4dCA9PT0gJ0RlZmF1bHQnKSB7XG4gICAgICBidXR0b24udGV4dENvbnRlbnQgPSAnU2F2ZSdcbiAgICB9XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICAgIHN1cGVyLmNsb3NlKClcbiAgICAgIHRoaXMuX2Zvcm0ucmVzZXQoKVxuICB9XG5cbn1cblxuIiwiY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmxcbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzXG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvdXNlcnMvbWUnLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSkudGhlbiggcmVzID0+IHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzVGV4dCkpXG4gICAgLy8gLmNhdGNoKGVyciA9PiB7XG4gICAgLy8gICBjb25zb2xlLmxvZygnQXBpIGhhcyBhbiBlcnJvciEhIScpXG4gICAgLy8gfSlcbiAgfVxuXG4gIGVkaXRQcm9maWxlKG5hbWUsIGFib3V0KSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL3VzZXJzL21lJywge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBhYm91dCxcbiAgICAgIH0pXG4gICAgfSkudGhlbihyZXMgPT4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSlcbiAgfVxuXG4gIGVkaXRBdmF0YXIoYXZhdGFyKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL3VzZXJzL21lL2F2YXRhcicsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyXG4gICAgICB9KVxuICAgIH0pLnRoZW4ocmVzID0+IHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzVGV4dCkpXG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzJywge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pLnRoZW4oIHJlcyA9PiByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1c1RleHQpKVxuICB9IC8vbmFtZSAgJiBsaW5rIGluIHRoZSBib2R5IGNoZWNrIG0uXG5cbiAgYWRkQ2FyZChuYW1lLCBsaW5rKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzJywge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGxpbmssXG4gICAgICB9KVxuICAgIH0pLnRoZW4ocmVzID0+IHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzVGV4dCkpXG4gIH1cblxuICBhZGRMaWtlKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzL2xpa2VzLycgKyBpZCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pLnRoZW4ocmVzID0+IHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzVGV4dCkpXG4gIH1cblxuICByZW1vdmVMaWtlKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzL2xpa2VzLycgKyBpZCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pLnRoZW4ocmVzID0+IHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzVGV4dCkpXG4gIH1cblxuICBkZWxldGVDYXJkKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzLycgKyBpZCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pLnRoZW4ocmVzID0+IHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzVGV4dCkpXG4gIH1cblxuXG59XG5cbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0zLWVuXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjkzOThhNDgzLTQ4NGUtNGViZC1hMzc0LWI2YjNiOTg1ZTljNFwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gIH1cbn0pOyAvLyB0aGlzLl9iYXNlVXJsIC8vIHRoaXMuX2hlYWRlcnNcbiIsIlxuaW1wb3J0IFwiLi4vcGFnZS9pbmRleC5jc3NcIjsgLy8gbWFpbiBicmlkZ2UgdG8gY3NzIGZpbGVzIGFmdGVyIHdlYnBhY2sgYnVpbGQgYWx3YXlzIGluc3RhbGwgMXN0XG5cbmltcG9ydCB7IHNldHRpbmdzLCBlZGl0Rm9ybSwgYWRkQ2FyZEZvcm0sIGVkaXRCdXR0b24sIGlucHV0TmFtZSwgaW5wdXRQcm9mZXNzaW9uLFxuICBhZGRCdXR0b24sIHByb2ZpbGVBdmF0YXIsIGF2YXRhckNoYW5nZSB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0IHsgQ2FyZCB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuaW1wb3J0IHsgUG9wdXBXaXRoSW1hZ2UgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuXG5pbXBvcnQgeyBhcGksIEFwaSB9IGZyb20gXCIuLi91dGlscy9BcGkuanNcIjtcbi8vaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFwiO1xuXG5sZXQgdXNlcklkXG5cbi8vYXBpLmdldFVzZXJJbmZvICYgYXBpLmdldEluaXRpYWxDYXJkcyBjb21iaW5lZCB3aXRoIFByb21pc2UuXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pXG4gIC50aGVuKChbdXNlckRhdGEsIGNhcmRzXSkgPT4ge1xuICAgIHVzZXJJZCA9IHVzZXJEYXRhLl9pZCAgLy91c2VyRGF0YS5fdXNlcklkXG4gICAgLy9jb25zb2xlLmxvZygndXNlciA9PicsIHVzZXJEYXRhKVxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhLm5hbWUsICB1c2VyRGF0YS5hYm91dCwgdXNlckRhdGEuYXZhdGFyKVxuICAgIHNlY3Rpb24ucmVuZGVyZXJJdGVtcyhjYXJkcylcbiAgfSlcbiAgLmNhdGNoKGNvbnNvbGUubG9nKVxuXG4vL2Zvcm0gdmFsaWRhdG9yIHNldHRpbmdzIGRvbSByZWZlcmVuY2VzLy9cbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoIHNldHRpbmdzLCBlZGl0Rm9ybSApO1xuY29uc3QgYWRkQ2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvciggc2V0dGluZ3MsIGFkZENhcmRGb3JtICk7XG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoIHNldHRpbmdzLCAgYXZhdGFyQ2hhbmdlICk7XG5cbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmFkZENhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuZWRpdEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG5cbi8vIGhhbmRsZSBhZGRjYXJkc3VibWl0XG5jb25zdCBoYW5kbGVDYXJkU3VibWl0ID0gKGRhdGEpID0+IHtcbiAgYWRkQ2FyZFBvcHVwLmNoYW5nZVRleHQoJ1NhdmluZycpXG4gIGFwaS5hZGRDYXJkKGRhdGEuY2FyZFRpdGxlLCBkYXRhLmNhcmRJbWFnZUxpbmspXG4gICAgLnRoZW4ocmVzID0+IHtcbiAgICAgIHNlY3Rpb24uYWRkSXRlbShyZXMpXG4gICAgICBhZGRDYXJkUG9wdXAuY2hhbmdlVGV4dCgnRGVmYXVsdCcpXG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5sb2cpXG5cbiAgICBhZGRDYXJkUG9wdXAuY2xvc2UoKTtcbn1cbi8vaGFuZGxlIGVkaXRwcm9maWxlIHN1Ym1pdFxuY29uc3QgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQgPSAoZGF0YSkgPT4ge1xuICBlZGl0UHJvZmlsZVBvcHVwLmNoYW5nZVRleHQoJ1NhdmluZycpXG4gIGFwaS5lZGl0UHJvZmlsZShkYXRhLm5hbWUsIGRhdGEucHJvZmVzc2lvbilcbiAgICAudGhlbiggcmVzID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcy5uYW1lLCBkYXRhLnByb2Zlc3Npb24sIHJlcy5hdmF0YXIpXG4gICAgICBlZGl0UHJvZmlsZVBvcHVwLmNoYW5nZVRleHQoJ0RlZmF1bHQnKVxuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUubG9nKVxuICAgIC5maW5hbGx5KCAoKSA9PiB7XG4gICAgICBlZGl0UHJvZmlsZVBvcHVwLmNsb3NlKClcbiAgICB9KVxufTtcblxuLy8gaGFuZGxlIGF2YXRhciBQaWN0dXJlIFN1Ym1pdFxuY29uc3QgaGFuZGxlQXZhdGFyU3VibWl0ID0gKGRhdGEpID0+IHtcbiAgYXZhdGFyQ2hhbmdlUG9wdXAuY2hhbmdlVGV4dCgnU2F2aW5nJylcbiAgYXBpLmVkaXRBdmF0YXIoIGRhdGEubGluaylcbiAgICAudGhlbiggcmVzID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcy5uYW1lLCByZXMuYWJvdXQsIHJlcy5hdmF0YXIpXG4gICAgICBhdmF0YXJDaGFuZ2VQb3B1cC5jaGFuZ2VUZXh0KCdEZWZhdWx0JylcbiAgICB9KVxuICAgIC5jYXRjaChjb25zb2xlLmxvZylcbiAgICAuZmluYWxseSggKCkgPT4ge1xuICAgICAgYXZhdGFyQ2hhbmdlUG9wdXAuY2xvc2UoKTtcbiAgICB9KVxufTtcblxuLy9oYW5kbGUgQ2FyZCBDbGlja1xuY29uc3QgaGFuZGxlQ2FyZENsaWNrID0gKGRhdGEpID0+IHtcbiAgaW1hZ2VQb3B1cC5vcGVuKGRhdGEubmFtZSwgZGF0YS5saW5rKTtcbn1cblxuLy9oYW5kbGUgQ2FyZCBMaWtlIEZ1bmN0aW9uXG5jb25zdCBoYW5kbGVMaWtlSWNvbiA9IChjYXJkKSA9PiB7XG4gIGlmKGNhcmQuaXNMaWtlZCgpKSB7XG4gICAgYXBpLnJlbW92ZUxpa2UoY2FyZC5nZXRJZCgpKVxuICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgY2FyZC5zZXRMaWtlQ291bnRlcihyZXMubGlrZXMpXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICBhcGkuYWRkTGlrZShjYXJkLmdldElkKCkpXG4gICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICBjYXJkLnNldExpa2VDb3VudGVyKHJlcy5saWtlcylcbiAgICB9KVxuICB9XG59XG5cbi8vIGhhbmRsZSBjb25maXJtIENhcmQgRGVsZXRlIEZ1bmN0aW9uXG5jb25zdCBoYW5kbGVEZWxldGVDbGljayA9IChjYXJkKSA9PiB7XG4gIGNvbmZpcm1DYXJkRGVsZXRlLm9wZW4oKVxuXG4gIGNvbmZpcm1DYXJkRGVsZXRlLmNoYW5nZVN1Ym1pdEhhbmRsZXIoKCkgPT4ge1xuICAgIGFwaS5kZWxldGVDYXJkKGNhcmQuZ2V0SWQoKSlcbiAgICAudGhlbiggKCkgPT4ge1xuICAgICAgY2FyZC5yZW1vdmVDYXJkKClcbiAgICB9KVxuICAgIGNvbmZpcm1DYXJkRGVsZXRlLmNsb3NlKClcbiAgfSlcbn1cblxuLy9jbGFzcyBpbnN0YW5jZXMgb2YgUG9wdXBcbmNvbnN0IGVkaXRQcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSgnI3BvcHVwLXRlbXBsYXRlJywgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQpXG5lZGl0UHJvZmlsZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKClcblxuY29uc3QgYXZhdGFyQ2hhbmdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSgnI3BvcHVwLXRlbXBsYXRlLWF2YXRhcicsIGhhbmRsZUF2YXRhclN1Ym1pdClcbmF2YXRhckNoYW5nZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKClcblxuY29uc3QgYWRkQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oJyNwb3B1cC10ZW1wbGF0ZS1mb3JtJywgaGFuZGxlQ2FyZFN1Ym1pdClcbmFkZENhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpIC8vb25seSBjYWxsIG9uY2VcblxuY29uc3QgY29uZmlybUNhcmREZWxldGUgPSBuZXcgUG9wdXBXaXRoRm9ybSgnI3BvcHVwLXRlbXBsYXRlLWNvbmZpcm0nLCBoYW5kbGVEZWxldGVDbGljaylcbmNvbmZpcm1DYXJkRGVsZXRlLnNldEV2ZW50TGlzdGVuZXJzKClcblxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnI3BvcHVwLWltYWdlJylcbmltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuXG5jb25zdCBjcmVhdGVDYXJkID0gKGRhdGEpID0+IHtcbiAgY29uc3QgaXRlbSA9IG5ldyBDYXJkIChcbiAgICBkYXRhLFxuICAgIHVzZXJJZCxcbiAgICAnI2NhcmQtdGVtcGxhdGUnLFxuICAgICgpID0+IGhhbmRsZUNhcmRDbGljayhkYXRhKSwgICAgICAvLzR0aCBjb25zdHJ1Y3RvciBpdGVtIGhhbmRsZUNhcmRDbGlja1xuICAgICgpID0+IGhhbmRsZUxpa2VJY29uKGl0ZW0pLCAgICAgICAvLzV0aCAgY29uc3RydWN0b3IgaXRlbSBoYW5kbGVMaWtlSWNvblxuICAgIChpZCkgPT4gaGFuZGxlRGVsZXRlQ2xpY2soaWQpICAgICAvLzZ0aCBjb25zdHJjdXRvciBpdGVtIGhhbmRsZURlbGV0ZUNsaWNrXG4gIClcbiByZXR1cm4gaXRlbS5nZW5lcmF0ZUNhcmQoKTtcbn1cblxuXG5cbmNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbiggeyByZW5kZXJlcjogY3JlYXRlQ2FyZCB9LCAnLmVsZW1lbnRzX19jYXJkcycgKVxuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIHByb2ZpbGVOYW1lU2VsZWN0b3I6ICcucHJvZmlsZV9faGVhZGVyJyxcbiAgcHJvZmlsZVByb2Zlc3Npb25TZWxlY3RvcjogJy5wcm9maWxlX19wcm9mZXNzaW9uJyxcbiAgcHJvZmlsZUF2YXRhcjogJy5wcm9maWxlX19pbWFnZScsXG59KVxuXG5mdW5jdGlvbiBvcGVuUHJvZmlsZVBvcHVwKCkge1xuICBjb25zdCBwcm9maWxlSW5mbyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG5cbiAgaW5wdXROYW1lLnZhbHVlID0gcHJvZmlsZUluZm8ubmFtZTtcbiAgaW5wdXRQcm9mZXNzaW9uLnZhbHVlID0gcHJvZmlsZUluZm8ucHJvZmVzc2lvbjtcblxuICBlZGl0Rm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbiAgZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlQnV0dG9uKCk7XG4gIGVkaXRQcm9maWxlUG9wdXAub3BlbigpO1xufVxuXG4vL0V2ZW50IGhhbmRsZXJzIHN1YnNjcmlwdGlvbnMgdG8gcG9wdXAvbW9kYWwgY29udHJvbHNcbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuUHJvZmlsZVBvcHVwKVxuXG5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGFkZENhcmRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xuICBhZGRDYXJkRm9ybVZhbGlkYXRvci5kaXNhYmxlQnV0dG9uKCk7XG4gIGFkZENhcmRQb3B1cC5vcGVuKCk7XG59KVxuXG5wcm9maWxlQXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBhdmF0YXJGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xuICBhdmF0YXJGb3JtVmFsaWRhdG9yLmRpc2FibGVCdXR0b24oKTtcbiAgYXZhdGFyQ2hhbmdlUG9wdXAub3BlbigpO1xufSlcblxuXG4iLCJcbmltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3RvcilcbiAgICB0aGlzLl9zdWJ0aXRsZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc3VidGl0bGUnKTtcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTtcbiAgfVxuXG5cbiAgb3BlbihuYW1lLCBsaW5rKSB7XG5cbiAgICBzdXBlci5vcGVuKClcbiAgICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbms7XG4gICAgICB0aGlzLl9pbWFnZS5hbHQgPSBuYW1lO1xuICAgICAgdGhpcy5fc3VidGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xuXG4gIH1cblxufVxuIiwiXG5leHBvcnQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyICkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpO1xuICB9XG5cblxuXG4gIHJlbmRlcmVySXRlbXMoaXRlbXMpIHtcbiAgICBpdGVtcy5mb3JFYWNoKChkYXRhKSA9PiB7XG4gICAgICAgIHRoaXMuYWRkSXRlbShkYXRhKVxuICAgIH0pXG4gIH07XG5cbiAgYWRkSXRlbShkYXRhKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX3JlbmRlcmVyKGRhdGEpXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudClcbiAgfTtcblxuXG59XG4iLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7cHJvZmlsZU5hbWVTZWxlY3RvciwgcHJvZmlsZVByb2Zlc3Npb25TZWxlY3RvciwgcHJvZmlsZUF2YXRhcn0pXG4gIHtcbiAgICB0aGlzLl9wcm9maWxlTmFtZT0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlTmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9wcm9maWxlUHJvZmVzc2lvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZVByb2Zlc3Npb25TZWxlY3Rvcik7XG4gICAgdGhpcy5fcHJvZmlsZUF2YXRhcj0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlQXZhdGFyKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCl7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50LFxuICAgICAgcHJvZmVzc2lvbjogdGhpcy5fcHJvZmlsZVByb2Zlc3Npb24udGV4dENvbnRlbnQsXG4gICAgICBhdmF0YXI6IHRoaXMuX3Byb2ZpbGVBdmF0YXIuc3R5bGUuYmFja2dyb3VuZEltYWdlXG4gICAgfVxuICB9XG5cbiAgc2V0VXNlckluZm8obmFtZSwgcHJvZmVzc2lvbiwgYXZhdGFyKSB7XG4gICAgdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuX3Byb2ZpbGVQcm9mZXNzaW9uLnRleHRDb250ZW50ID0gcHJvZmVzc2lvbjtcbiAgICB0aGlzLl9wcm9maWxlQXZhdGFyLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHthdmF0YXJ9KWA7XG4gIH1cblxuXG59XG4iXSwibmFtZXMiOlsicHJvZmlsZUF2YXRhciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInByb2ZpbGVQb3B1cCIsImVkaXRCdXR0b24iLCJpbnB1dE5hbWUiLCJpbnB1dFByb2Zlc3Npb24iLCJhZGRCdXR0b24iLCJzZXR0aW5ncyIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiZWRpdEZvcm0iLCJhZGRDYXJkRm9ybSIsImF2YXRhckNoYW5nZSIsImNvbnN0cnVjdG9yIiwiZm9ybUVsZW1lbnQiLCJpbnB1dCIsImVycm9yTWVzc2FnZSIsInRoaXMiLCJfc2V0dGluZ3MiLCJlcnJvckVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwicmVtb3ZlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIl90b2dnbGVCdXR0b24iLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJldmVyeSIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2hhc1ZhbGlkSW5wdXQiLCJlbmFibGVCdXR0b24iLCJkaXNhYmxlQnV0dG9uIiwiX3N1Ym1pdEJ1dHRvbiIsImRpc2FibGVkIiwicmVzZXRWYWxpZGF0aW9uIiwiZW5hYmxlVmFsaWRhdGlvbiIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiQ2FyZCIsImRhdGEiLCJ1c2VySWQiLCJ0ZW1wbGF0ZUNhcmRTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZUxpa2VJY29uIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJfZGF0YSIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9saWtlcyIsImxpa2VzIiwiX2lkIiwiX3VzZXJJZCIsIl9vd25lcklkIiwib3duZXIiLCJfdGVtcGxhdGVDYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUxpa2VJY29uIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiZ2V0SWQiLCJfZ2V0VGVtcGxhdGUiLCJjb250ZW50IiwiX2FkZEV2ZW50TGlzdGVuZXJzIiwiX2xpa2VCdXR0b24iLCJfZGVsZXRlQnV0dG9uIiwiX2NhcmRJbWFnZSIsInJlbW92ZUNhcmQiLCJfY2FyZEVsZW1lbnQiLCJzZXRMaWtlQ291bnRlciIsIm5ld0xpa2VzIiwibGlrZUNvdW50ZXIiLCJsZW5ndGgiLCJpc0xpa2VkIiwiZmluZCIsInVzZXIiLCJnZW5lcmF0ZUNhcmQiLCJjbG9uZU5vZGUiLCJfY2FyZE5hbWUiLCJzcmMiLCJhbHQiLCJzdHlsZSIsImRpc3BsYXkiLCJQT1BVUF9TRUxFQ1RPUl9DTEFTUyIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJrZXkiLCJjbG9zZSIsIm9wZW4iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVTdWJtaXRGb3JtIiwic3VwZXIiLCJfaGFuZGxlU3VibWl0Rm9ybSIsIl9mb3JtIiwiX2lucHV0cyIsIl9nZXRJbnB1dFZhbHVlcyIsInZhbHVlcyIsInZhbHVlIiwiZSIsInNldElucHV0VmFsdWVzIiwiY2hhbmdlU3VibWl0SGFuZGxlciIsIm5ld1N1Ym1pdEhhbmRsZXIiLCJjaGFuZ2VUZXh0IiwidGV4dCIsImJ1dHRvbiIsInJlc2V0IiwiYXBpIiwib3B0aW9ucyIsIl9iYXNlVXJsIiwiYmFzZVVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsImdldFVzZXJJbmZvIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1c1RleHQiLCJlZGl0UHJvZmlsZSIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlZGl0QXZhdGFyIiwiYXZhdGFyIiwiZ2V0SW5pdGlhbENhcmRzIiwiYWRkQ2FyZCIsImFkZExpa2UiLCJyZW1vdmVMaWtlIiwiZGVsZXRlQ2FyZCIsImF1dGhvcml6YXRpb24iLCJhbGwiLCJ1c2VyRGF0YSIsImNhcmRzIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsInNlY3Rpb24iLCJyZW5kZXJlckl0ZW1zIiwiY2F0Y2giLCJjb25zb2xlIiwibG9nIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwiYWRkQ2FyZEZvcm1WYWxpZGF0b3IiLCJhdmF0YXJGb3JtVmFsaWRhdG9yIiwiY2FyZCIsImNvbmZpcm1DYXJkRGVsZXRlIiwiZWRpdFByb2ZpbGVQb3B1cCIsInByb2Zlc3Npb24iLCJmaW5hbGx5IiwiYXZhdGFyQ2hhbmdlUG9wdXAiLCJhZGRDYXJkUG9wdXAiLCJjYXJkVGl0bGUiLCJjYXJkSW1hZ2VMaW5rIiwiYWRkSXRlbSIsImltYWdlUG9wdXAiLCJfc3VidGl0bGUiLCJfaW1hZ2UiLCJjb250YWluZXIiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtcyIsImVsZW1lbnQiLCJwcmVwZW5kIiwiaXRlbSIsInByb2ZpbGVOYW1lU2VsZWN0b3IiLCJwcm9maWxlUHJvZmVzc2lvblNlbGVjdG9yIiwiX3Byb2ZpbGVOYW1lIiwiX3Byb2ZpbGVQcm9mZXNzaW9uIiwiX3Byb2ZpbGVBdmF0YXIiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJwcm9maWxlSW5mbyJdLCJzb3VyY2VSb290IjoiIn0=