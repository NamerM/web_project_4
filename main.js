!function(){"use strict";const e=document.querySelector(".profile__image"),t=document.querySelector(".popup_type_profile"),s=document.querySelector(".profile__button"),i=(t.querySelector(".popup__close"),t.querySelector(".popup__input_type_name")),r=t.querySelector(".popup__input_type_profession"),n=document.querySelector(".add-button");function o(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}document.querySelector(".elements__cards"),document.querySelector(".popup__form_edit"),document.querySelector(".popup__form_cards"),document.querySelector(".popup__form_avatar");class a{constructor(e,t){o(this,"_showInputError",((e,t)=>{const{inputErrorClass:s,errorClass:i}=this._settings,r=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(i),r.textContent=t,r.classList.add(s)})),o(this,"_hideInputError",(e=>{const{inputErrorClass:t,errorClass:s}=this._settings,i=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(s),i.classList.remove(t),i.textContent=""})),o(this,"_checkInputValidity",(e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)})),o(this,"_setEventListeners",(()=>{const{inputSelector:e}=this._settings;this.inputList=Array.from(this._formElement.querySelectorAll(e)),this._toggleButton(),this.inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButton()}))}))})),o(this,"_hasValidInput",(()=>this.inputList.every((e=>e.validity.valid)))),o(this,"_toggleButton",(()=>{const{inactiveButtonClass:e}=this._settings;this._inactiveButtonClass=e,this._hasValidInput()?this.enableButton():this.disableButton()})),o(this,"enableButton",(()=>{this._submitButton.disabled=!1,this._submitButton.classList.remove(this._inactiveButtonClass)})),o(this,"disableButton",(()=>{this._submitButton.disabled=!0,this._submitButton.classList.add(this._inactiveButtonClass)})),this._settings=e,this._formElement=t,this._submitButton=this._formElement.querySelector(this._settings.submitButtonSelector)}resetValidation(){this.inputList.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class l{constructor(e,t,s,i,r,n){this._data=e,this._name=e.name,this._link=e.link,this._likes=e.likes,this._id=e._id,this._userId=t,this._ownerId=e.owner._id,this._templateCardSelector=s,this._handleCardClick=i,this._handleLikeIcon=r,this._handleDeleteClick=n}getId(){return this._id}_getTemplate(){return document.querySelector(this._templateCardSelector).content.querySelector(".elements__card")}_addEventListeners(){this._likeButton.addEventListener("click",(()=>this._handleLikeIcon())),this._deleteButton.addEventListener("click",(()=>this._handleDeleteClick(this))),this._cardImage.addEventListener("click",(()=>this._handleCardClick(this._name,this._link)))}removeCard(){this._cardElement.remove(),this._cardElement=null}setLikeCounter(e){this._likes=e;const t=this._likes.length;this._cardLikeCounter.textContent=t,this.isLiked()?this._likeButton.classList.add("elements__button-like_active"):this._likeButton.classList.remove("elements__button-like_active")}isLiked(){return this._likes.find((e=>e._id===this._userId))}generateCard(){return this._cardElement=this._getTemplate().cloneNode(!0),this._cardImage=this._cardElement.querySelector(".elements__image"),this._cardName=this._cardElement.querySelector(".elements__card-text"),this._likeButton=this._cardElement.querySelector(".elements__button-like"),this._deleteButton=this._cardElement.querySelector(".elements__button-delete"),this._cardLikeCounter=this._cardElement.querySelector(".elements__card_likes"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardName.textContent=this._name,this._addEventListeners(),this.setLikeCounter(this._likes),this._userId!==this._ownerId&&(this._deleteButton.style.display="none"),this._cardElement}}const c="popup_open";class h{constructor(e){this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}_handleEscClose(e){"Escape"===e.key&&this.close()}open(){this._popup.classList.add(c),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove(c),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._popup.addEventListener("mousedown",(e=>{(e.target.classList.contains("popup")||e.target.classList.contains("popup__close"))&&this.close()}))}}class _ extends h{constructor(e,t){super(e),this._handleSubmitForm=t,this._form=this._popup.querySelector(".popup__form"),this._inputs=this._form.querySelectorAll(".popup__input"),this._submitButton=this._popup.querySelector(".popup__save")}_getInputValues(){const e={};return this._inputs.forEach((t=>{const s=t.id,i=t.value;e[s]=i})),e}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmitForm(this._getInputValues())}))}setInputValues(e){this._inputs.forEach((t=>{t.value=e[t.name]}))}changeSubmitHandler(e){this._handleSubmitForm=e}changeText(e){const t=this._submitButton;"Saving"===e&&(t.textContent="Saving..."),"Default"===e&&(t.textContent="Save")}close(){super.close(),this._form.reset()}}function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const u=new class{constructor(e){d(this,"editProfile",((e,t)=>fetch(this._baseUrl+"/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._checkResponse))),d(this,"addLike",(e=>fetch(this._baseUrl+"/cards/likes/"+e,{method:"PUT",headers:this._headers}).then(this._checkResponse))),d(this,"removeLike",(e=>fetch(this._baseUrl+"/cards/likes/"+e,{method:"DELETE",headers:this._headers}).then(this._checkResponse))),this._baseUrl=e.baseUrl,this._headers=e.headers}_checkResponse(e){return e.ok?e.json():Promise.reject(e.StatusText)}getUserInfo(){return fetch(this._baseUrl+"/users/me",{headers:this._headers}).then(this._checkResponse)}editAvatar(e){return fetch(this._baseUrl+"/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse)}getInitialCards(){return fetch(this._baseUrl+"/cards",{headers:this._headers}).then(this._checkResponse)}addCard(e,t){return fetch(this._baseUrl+"/cards",{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._checkResponse)}deleteCard(e){return fetch(this._baseUrl+"/cards/"+e,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}}({baseUrl:"https://around.nomoreparties.co/v1/cohort-3-en",headers:{authorization:"9398a483-484e-4ebd-a374-b6b3b985e9c4","Content-Type":"application/json"}});let p;Promise.all([u.getUserInfo(),u.getInitialCards()]).then((e=>{let[t,s]=e;p=t._id,L.setUserInfo(t.name,t.about,t.avatar),S.rendererItems(s)})).catch(console.log);const m={};var f;f={inputSelector:".popup__input",submitButtonSelector:".popup__save",inactiveButtonClass:"popup__save_disabled",inputErrorClass:"popup__input-error_open",errorClass:"popup__error_visible",formSelector:".popup__form"},Array.from(document.querySelectorAll(f.formSelector)).forEach((e=>{const t=new a(f,e),s=e.getAttribute("name");m[s]=t,t.enableValidation()}));const v=e=>{E.open(),E.changeSubmitHandler((()=>{u.deleteCard(e.getId()).then((()=>{e.removeCard()})).then((()=>{E.close()})).catch(console.log)}))},g=new _("#popup-template",(e=>{g.changeText("Saving"),u.editProfile(e.name,e.profession).then((t=>{L.setUserInfo(t.name,e.profession,t.avatar)})).then((e=>{g.close(e)})).catch(console.log).finally((()=>{g.changeText("Default")}))}));g.setEventListeners();const b=new _("#popup-template-avatar",(e=>{b.changeText("Saving"),u.editAvatar(e.link).then((e=>{L.setUserInfo(e.name,e.about,e.avatar)})).then((e=>{b.close(e)})).catch(console.log).finally((()=>{b.changeText("Default")}))}));b.setEventListeners();const k=new _("#popup-template-form",(e=>{k.changeText("Saving"),u.addCard(e.cardTitle,e.cardImageLink).then((e=>{S.addItem(e)})).then((e=>{k.close(e)})).catch(console.log).finally((()=>{k.changeText("Default")}))}));k.setEventListeners();const E=new _("#popup-template-confirm",v);E.setEventListeners();const y=new class extends h{constructor(e){super(e),this._subtitle=this._popup.querySelector(".popup__subtitle"),this._image=this._popup.querySelector(".popup__image")}open(e,t){super.open(),this._image.src=t,this._image.alt=e,this._subtitle.textContent=e}}("#popup-image");y.setEventListeners();const S=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}rendererItems(e){e.forEach((e=>{this.addItem(e)}))}addItem(e){const t=this._renderer(e);this._container.prepend(t)}}({renderer:e=>{const t=new l(e,p,"#card-template",(()=>(e=>{y.open(e.name,e.link)})(e)),(()=>{var e;((e=t).isLiked()?u.removeLike:u.addLike)(e.getId()).then((t=>{e.setLikeCounter(t.likes)})).catch(console.log)}),(e=>v(e)));return t.generateCard()}},".elements__cards"),L=new class{constructor(e){let{profileNameSelector:t,profileProfessionSelector:s,profileAvatar:i}=e;this._profileName=document.querySelector(t),this._profileProfession=document.querySelector(s),this._profileAvatar=document.querySelector(i)}getUserInfo(){return{name:this._profileName.textContent,profession:this._profileProfession.textContent,avatar:this._profileAvatar.style.backgroundImage}}setUserInfo(e,t,s){this._profileName.textContent=e,this._profileProfession.textContent=t,this._profileAvatar.style.backgroundImage="url(".concat(s,")")}}({profileNameSelector:".profile__header",profileProfessionSelector:".profile__profession",profileAvatar:".profile__image"});s.addEventListener("click",(function(){const e=L.getUserInfo();i.value=e.name,r.value=e.profession,g.open()})),m.profileForm.resetValidation(),m.profileForm.enableButton(),n.addEventListener("click",(()=>{k.open(),m["add-cards"].resetValidation(),m["add-cards"].disableButton()})),e.addEventListener("click",(()=>{b.open(),m.avatarChange.resetValidation(),m.avatarChange.disableButton()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBQ0EsTUFBTUEsRUFBZ0JDLFNBQVNDLGNBQWMsbUJBRXZDQyxFQUFlRixTQUFTQyxjQUFjLHVCQUN0Q0UsRUFBYUgsU0FBU0MsY0FBYyxvQkFFcENHLEdBRGNGLEVBQWFELGNBQWMsaUJBQzdCQyxFQUFhRCxjQUFjLDRCQUN2Q0ksRUFBa0JILEVBQWFELGNBQWMsaUNBSTdDSyxFQUFZTixTQUFTQyxjQUFjLGUsd0hBR3BCRCxTQUFTQyxjQUFjLG9CQVczQkQsU0FBU0MsY0FBYyxxQkFDcEJELFNBQVNDLGNBQWMsc0JBQ3RCRCxTQUFTQyxjQUFjLHVCQzNCckMsTUFBTU0sRUFDWEMsWUFBWUMsRUFBVUMsR0FBYSwwQkFRakIsQ0FBQ0MsRUFBT0MsS0FDeEIsTUFBTSxnQkFBRUMsRUFBRixXQUFtQkMsR0FBZUMsS0FBS0MsVUFFdkNDLEVBQWVGLEtBQUtHLGFBQWFqQixjQUFsQixXQUFvQ1UsRUFBTVEsR0FBMUMsV0FDckJSLEVBQU1TLFVBQVVDLElBQUlQLEdBQ3BCRyxFQUFhSyxZQUFjVixFQUMzQkssRUFBYUcsVUFBVUMsSUFBSVIsTUFkTSwwQkFpQmhCRixJQUNqQixNQUFNLGdCQUFFRSxFQUFGLFdBQW1CQyxHQUFlQyxLQUFLQyxVQUV2Q0MsRUFBZUYsS0FBS0csYUFBYWpCLGNBQWxCLFdBQW9DVSxFQUFNUSxHQUExQyxXQUNyQlIsRUFBTVMsVUFBVUcsT0FBT1QsR0FDdkJHLEVBQWFHLFVBQVVHLE9BQU9WLEdBQzlCSSxFQUFhSyxZQUFjLE1BdkJNLDhCQTBCWlgsSUFDaEJBLEVBQU1hLFNBQVNDLE1BR2xCVixLQUFLVyxnQkFBZ0JmLEdBRnJCSSxLQUFLWSxnQkFBZ0JoQixFQUFPQSxFQUFNaUIsc0JBNUJILDZCQWtDZCxLQUNuQixNQUFNLGNBQUVDLEdBQWtCZCxLQUFLQyxVQUUvQkQsS0FBS2UsVUFBWUMsTUFBTUMsS0FDckJqQixLQUFLRyxhQUFhZSxpQkFBaUJKLElBR3JDZCxLQUFLbUIsZ0JBRUxuQixLQUFLZSxVQUFVSyxTQUFTeEIsSUFDdEJBLEVBQU15QixpQkFBaUIsU0FBUyxLQUM5QnJCLEtBQUtzQixvQkFBb0IxQixHQUN6QkksS0FBS21CLHlCQTlDd0IseUJBbURsQixJQUNSbkIsS0FBS2UsVUFBVVEsT0FBTzNCLEdBQVVBLEVBQU1hLFNBQVNDLFVBcERyQix3QkF1RG5CLEtBQ2QsTUFBTSxvQkFBRWMsR0FBd0J4QixLQUFLQyxVQUNyQ0QsS0FBS3lCLHFCQUF1QkQsRUFFeEJ4QixLQUFLMEIsaUJBQ1AxQixLQUFLMkIsZUFFTDNCLEtBQUs0QixtQkE5RDBCLHVCQWtFcEIsS0FDYjVCLEtBQUs2QixjQUFjQyxVQUFXLEVBQzlCOUIsS0FBSzZCLGNBQWN4QixVQUFVRyxPQUFPUixLQUFLeUIseUJBcEVSLHdCQXVFbkIsS0FDZHpCLEtBQUs2QixjQUFjQyxVQUFXLEVBQzlCOUIsS0FBSzZCLGNBQWN4QixVQUFVQyxJQUFJTixLQUFLeUIseUJBeEV0Q3pCLEtBQUtDLFVBQVlQLEVBQ2pCTSxLQUFLRyxhQUFlUixFQUNwQkssS0FBSzZCLGNBQWdCN0IsS0FBS0csYUFBYWpCLGNBQ3JDYyxLQUFLQyxVQUFVOEIsc0JBd0VuQkMsa0JBQ0VoQyxLQUFLZSxVQUFVSyxTQUFTeEIsSUFDdEJJLEtBQUtXLGdCQUFnQmYsTUFJekJxQyxtQkFDRWpDLEtBQUtHLGFBQWFrQixpQkFBaUIsVUFBV2EsSUFDNUNBLEVBQUlDLG9CQUdObkMsS0FBS29DLHNCQ3hGRixNQUFNQyxFQUNYNUMsWUFBWTZDLEVBQU1DLEVBQVFDLEVBQXNCQyxFQUFpQkMsRUFBZ0JDLEdBRS9FM0MsS0FBSzRDLE1BQVFOLEVBQ2J0QyxLQUFLNkMsTUFBUVAsRUFBS1EsS0FDbEI5QyxLQUFLK0MsTUFBUVQsRUFBS1UsS0FDbEJoRCxLQUFLaUQsT0FBU1gsRUFBS1ksTUFDbkJsRCxLQUFLbUQsSUFBTWIsRUFBS2EsSUFDaEJuRCxLQUFLb0QsUUFBVWIsRUFDZnZDLEtBQUtxRCxTQUFXZixFQUFLZ0IsTUFBTUgsSUFHM0JuRCxLQUFLdUQsc0JBQXdCZixFQUM3QnhDLEtBQUt3RCxpQkFBbUJmLEVBQ3hCekMsS0FBS3lELGdCQUFrQmYsRUFDdkIxQyxLQUFLMEQsbUJBQXFCZixFQUc1QmdCLFFBQ0UsT0FBTzNELEtBQUttRCxJQUdkUyxlQUNFLE9BQU8zRSxTQUFTQyxjQUFjYyxLQUFLdUQsdUJBQ2hDTSxRQUFRM0UsY0FBYyxtQkFHM0I0RSxxQkFDRTlELEtBQUsrRCxZQUFZMUMsaUJBQWlCLFNBQVMsSUFBTXJCLEtBQUt5RCxvQkFDdER6RCxLQUFLZ0UsY0FBYzNDLGlCQUFpQixTQUFTLElBQU1yQixLQUFLMEQsbUJBQW1CMUQsUUFDM0VBLEtBQUtpRSxXQUFXNUMsaUJBQWlCLFNBQVMsSUFBTXJCLEtBQUt3RCxpQkFBaUJ4RCxLQUFLNkMsTUFBTzdDLEtBQUsrQyxTQUd6Rm1CLGFBQ0VsRSxLQUFLbUUsYUFBYTNELFNBQ2xCUixLQUFLbUUsYUFBZSxLQUd0QkMsZUFBZUMsR0FDYnJFLEtBQUtpRCxPQUFTb0IsRUFFZCxNQUFNQyxFQUFjdEUsS0FBS2lELE9BQU9zQixPQUNoQ3ZFLEtBQUt3RSxpQkFBaUJqRSxZQUFjK0QsRUFFSHRFLEtBQUt5RSxVQUVwQ3pFLEtBQUsrRCxZQUFZMUQsVUFBVUMsSUFBSSxnQ0FFL0JOLEtBQUsrRCxZQUFZMUQsVUFBVUcsT0FBTyxnQ0FJdENpRSxVQUNFLE9BQU96RSxLQUFLaUQsT0FBT3lCLE1BQUtDLEdBQVFBLEVBQUt4QixNQUFRbkQsS0FBS29ELFVBSXBEd0IsZUFxQkUsT0FwQkE1RSxLQUFLbUUsYUFBZW5FLEtBQUs0RCxlQUFlaUIsV0FBVSxHQUVsRDdFLEtBQUtpRSxXQUFhakUsS0FBS21FLGFBQWFqRixjQUFjLG9CQUNsRGMsS0FBSzhFLFVBQVk5RSxLQUFLbUUsYUFBYWpGLGNBQWMsd0JBQ2pEYyxLQUFLK0QsWUFBYy9ELEtBQUttRSxhQUFhakYsY0FBYywwQkFDbkRjLEtBQUtnRSxjQUFnQmhFLEtBQUttRSxhQUFhakYsY0FBYyw0QkFDckRjLEtBQUt3RSxpQkFBb0J4RSxLQUFLbUUsYUFBYWpGLGNBQWMseUJBR3pEYyxLQUFLaUUsV0FBV2MsSUFBTS9FLEtBQUsrQyxNQUMzQi9DLEtBQUtpRSxXQUFXZSxJQUFNaEYsS0FBSzZDLE1BQzNCN0MsS0FBSzhFLFVBQVV2RSxZQUFjUCxLQUFLNkMsTUFFbEM3QyxLQUFLOEQscUJBQ0w5RCxLQUFLb0UsZUFBZXBFLEtBQUtpRCxRQUV0QmpELEtBQUtvRCxVQUFZcEQsS0FBS3FELFdBQ3ZCckQsS0FBS2dFLGNBQWNpQixNQUFNQyxRQUFVLFFBRzlCbEYsS0FBS21FLGNDOUVoQixNQUVNZ0IsRUFBdUIsYUFFdEIsTUFBTUMsRUFDWDNGLFlBQVk0RixHQUNWckYsS0FBS3NGLE9BQVNyRyxTQUFTQyxjQUFjbUcsR0FDckNyRixLQUFLdUYsZ0JBQWtCdkYsS0FBS3VGLGdCQUFnQkMsS0FBS3hGLE1BR25EdUYsZ0JBQWdCckQsR0FDRSxXQUFaQSxFQUFJdUQsS0FDTnpGLEtBQUswRixRQUlUQyxPQUNFM0YsS0FBS3NGLE9BQU9qRixVQUFVQyxJQUFJNkUsR0FDMUJsRyxTQUFTb0MsaUJBQWlCLFVBQVdyQixLQUFLdUYsaUJBRzVDRyxRQUNFMUYsS0FBS3NGLE9BQU9qRixVQUFVRyxPQUFPMkUsR0FDN0JsRyxTQUFTMkcsb0JBQW9CLFVBQVc1RixLQUFLdUYsaUJBRy9DTSxvQkFDRTdGLEtBQUtzRixPQUFPakUsaUJBQWlCLGFBQWNhLEtBRXZDQSxFQUFJNEQsT0FBT3pGLFVBQVUwRixTQTdCVCxVQThCWjdELEVBQUk0RCxPQUFPekYsVUFBVTBGLFNBN0JGLGtCQStCbkIvRixLQUFLMEYsWUM5Qk4sTUFBTU0sVUFBc0JaLEVBQ2pDM0YsWUFBWTRGLEVBQWVZLEdBQ3pCQyxNQUFNYixHQUVOckYsS0FBS21HLGtCQUFvQkYsRUFDekJqRyxLQUFLb0csTUFBUXBHLEtBQUtzRixPQUFPcEcsY0FBYyxnQkFDdkNjLEtBQUtxRyxRQUFVckcsS0FBS29HLE1BQU1sRixpQkFBaUIsaUJBQzNDbEIsS0FBSzZCLGNBQWdCN0IsS0FBS3NGLE9BQU9wRyxjQUFjLGdCQUlqRG9ILGtCQUNFLE1BQU1DLEVBQVMsR0FRZixPQUxBdkcsS0FBS3FHLFFBQVFqRixTQUFTeEIsSUFDcEIsTUFBTTZGLEVBQU03RixFQUFNUSxHQUNab0csRUFBUTVHLEVBQU00RyxNQUNwQkQsRUFBT2QsR0FBT2UsS0FFVEQsRUFHVFYsb0JBQ0lLLE1BQU1MLG9CQUVON0YsS0FBS29HLE1BQU0vRSxpQkFBa0IsVUFBV29GLElBRXBDQSxFQUFFdEUsaUJBRUZuQyxLQUFLbUcsa0JBQWtCbkcsS0FBS3NHLHNCQUlwQ0ksZUFBZXBFLEdBQ2J0QyxLQUFLcUcsUUFBUWpGLFNBQVN4QixJQUNwQkEsRUFBTTRHLE1BQVFsRSxFQUFLMUMsRUFBTWtELFNBSTdCNkQsb0JBQW9CQyxHQUNsQjVHLEtBQUttRyxrQkFBb0JTLEVBRzNCQyxXQUFXQyxHQUNULE1BQU1DLEVBQVMvRyxLQUFLNkIsY0FHUixXQUFUaUYsSUFDREMsRUFBT3hHLFlBQWMsYUFFWCxZQUFUdUcsSUFDREMsRUFBT3hHLFlBQWMsUUFjekJtRixRQUNJUSxNQUFNUixRQUNOMUYsS0FBS29HLE1BQU1ZLFMsd0hDcUJWLE1BQU1DLEVBQU0sSUEzRm5CLE1BQ0V4SCxZQUFZeUgsR0FBUyxzQkFvQlAsQ0FBQ3BFLEVBQU1xRSxJQUNaQyxNQUFNcEgsS0FBS3FILFNBQVcsWUFBYSxDQUN4Q0MsT0FBUSxRQUNSQyxRQUFTdkgsS0FBS3dILFNBQ2RDLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkI3RSxPQUNBcUUsWUFHSFMsS0FBSzVILEtBQUs2SCxrQkE3QlEsa0JBOERWekgsR0FDRmdILE1BQU1wSCxLQUFLcUgsU0FBVyxnQkFBa0JqSCxFQUFJLENBQ2pEa0gsT0FBUSxNQUNSQyxRQUFTdkgsS0FBS3dILFdBRWZJLEtBQUs1SCxLQUFLNkgsa0JBbkVRLHFCQXNFUHpILEdBQ0xnSCxNQUFNcEgsS0FBS3FILFNBQVcsZ0JBQWtCakgsRUFBSSxDQUNqRGtILE9BQVEsU0FDUkMsUUFBU3ZILEtBQUt3SCxXQUVmSSxLQUFLNUgsS0FBSzZILGtCQTFFWDdILEtBQUtxSCxTQUFXSCxFQUFRWSxRQUN4QjlILEtBQUt3SCxTQUFXTixFQUFRSyxRQUkxQk0sZUFBZUUsR0FDYixPQUFPQSxFQUFJQyxHQUFLRCxFQUFJRSxPQUFTQyxRQUFRQyxPQUFPSixFQUFJSyxZQUlsREMsY0FDRSxPQUFPakIsTUFBTXBILEtBQUtxSCxTQUFXLFlBQWEsQ0FDeENFLFFBQVN2SCxLQUFLd0gsV0FDYkksS0FBSzVILEtBQUs2SCxnQkFrQmZTLFdBQVdDLEdBQ1QsT0FBT25CLE1BQU1wSCxLQUFLcUgsU0FBVyxtQkFBb0IsQ0FDL0NDLE9BQVEsUUFDUkMsUUFBU3ZILEtBQUt3SCxTQUNkQyxLQUFNQyxLQUFLQyxVQUFVLENBQ25CWSxhQUdIWCxLQUFLNUgsS0FBSzZILGdCQUdiVyxrQkFDRSxPQUFPcEIsTUFBTXBILEtBQUtxSCxTQUFXLFNBQVUsQ0FDckNFLFFBQVN2SCxLQUFLd0gsV0FFZkksS0FBSzVILEtBQUs2SCxnQkFHYlksUUFBUTNGLEVBQU1FLEdBQ1osT0FBT29FLE1BQU1wSCxLQUFLcUgsU0FBVyxTQUFVLENBQ3JDQyxPQUFRLE9BQ1JDLFFBQVN2SCxLQUFLd0gsU0FDZEMsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQjdFLE9BQ0FFLFdBR0g0RSxLQUFLNUgsS0FBSzZILGdCQW1CYmEsV0FBV3RJLEdBQ1QsT0FBT2dILE1BQU1wSCxLQUFLcUgsU0FBVyxVQUFZakgsRUFBSSxDQUMzQ2tILE9BQVEsU0FDUkMsUUFBU3ZILEtBQUt3SCxXQUVmSSxLQUFLNUgsS0FBSzZILGtCQU9ZLENBQ3pCQyxRQUFTLGlEQUNUUCxRQUFTLENBQ1BvQixjQUFlLHVDQUNmLGVBQWdCLHNCQ2hGcEIsSUFBSXBHLEVBR0oyRixRQUFRVSxJQUFJLENBQUMzQixFQUFJb0IsY0FBZXBCLEVBQUl1QixvQkFDakNaLE1BQUssSUFBdUIsSUFBckJpQixFQUFVQyxHQUFXLEVBQzNCdkcsRUFBU3NHLEVBQVMxRixJQUVsQjRGLEVBQVNDLFlBQVlILEVBQVMvRixLQUFPK0YsRUFBUzFCLE1BQU8wQixFQUFTTixRQUM5RFUsRUFBUUMsY0FBY0osTUFFdkJLLE1BQU1DLFFBQVFDLEtBSWpCLE1BQU1DLEVBQWlCLEdBRUdDLFFOZlQsQ0FDZnpJLGNBQWUsZ0JBQ2ZpQixxQkFBc0IsZUFDdEJQLG9CQUFxQix1QkFDckIxQixnQkFBaUIsMEJBQ2pCQyxXQUFZLHVCQUNaeUosYUFBYyxnQk1VR3hJLE1BQU1DLEtBQUtoQyxTQUFTaUMsaUJBQWlCcUksRUFBT0MsZUFDcERwSSxTQUFTekIsSUFDaEIsTUFBTThKLEVBQVksSUFBSWpLLEVBQWUrSixFQUFRNUosR0FDdkMrSixFQUFXL0osRUFBWWdLLGFBQWEsUUFFMUNMLEVBQWVJLEdBQVlELEVBRTNCQSxFQUFVeEgsc0JBUWQsTUFnRU1VLEVBQXFCaUgsSUFDekJDLEVBQWtCbEUsT0FFbEJrRSxFQUFrQmxELHFCQUFvQixLQUNwQ00sRUFBSXlCLFdBQVdrQixFQUFLakcsU0FDbkJpRSxNQUFNLEtBQ0xnQyxFQUFLMUYsZ0JBRU4wRCxNQUFNLEtBQ0xpQyxFQUFrQm5FLFdBRW5CeUQsTUFBTUMsUUFBUUMsU0FLYlMsRUFBbUIsSUFBSTlELEVBQWMsbUJBL0RWMUQsSUFDL0J3SCxFQUFpQmpELFdBQVcsVUFDNUJJLEVBQUk4QyxZQUFZekgsRUFBS1EsS0FBTVIsRUFBSzBILFlBQzdCcEMsTUFBTUcsSUFDTGdCLEVBQVNDLFlBQVlqQixFQUFJakYsS0FBTVIsRUFBSzBILFdBQVlqQyxFQUFJUSxXQUVyRFgsTUFBTUcsSUFDTCtCLEVBQWlCcEUsTUFBTXFDLE1BRXhCb0IsTUFBTUMsUUFBUUMsS0FDZFksU0FBUSxLQUNQSCxFQUFpQmpELFdBQVcsaUJBcURsQ2lELEVBQWlCakUsb0JBRWpCLE1BQU1xRSxFQUFvQixJQUFJbEUsRUFBYywwQkFsRGhCMUQsSUFDMUI0SCxFQUFrQnJELFdBQVcsVUFDN0JJLEVBQUlxQixXQUFZaEcsRUFBS1UsTUFDbEI0RSxNQUFNRyxJQUNMZ0IsRUFBU0MsWUFBWWpCLEVBQUlqRixLQUFNaUYsRUFBSVosTUFBT1ksRUFBSVEsV0FFL0NYLE1BQU1HLElBQ0xtQyxFQUFrQnhFLE1BQU1xQyxNQUV6Qm9CLE1BQU1DLFFBQVFDLEtBQ2RZLFNBQVMsS0FDUkMsRUFBa0JyRCxXQUFXLGlCQXdDbkNxRCxFQUFrQnJFLG9CQUVsQixNQUFNc0UsRUFBZSxJQUFJbkUsRUFBYyx3QkF0RmIxRCxJQUN4QjZILEVBQWF0RCxXQUFXLFVBQ3hCSSxFQUFJd0IsUUFBUW5HLEVBQUs4SCxVQUFXOUgsRUFBSytILGVBQzlCekMsTUFBS0csSUFDSmtCLEVBQVFxQixRQUFRdkMsTUFFakJILE1BQU1HLElBQ0xvQyxFQUFhekUsTUFBTXFDLE1BRXBCb0IsTUFBTUMsUUFBUUMsS0FDZFksU0FBUyxLQUNSRSxFQUFhdEQsV0FBVyxpQkE0RTlCc0QsRUFBYXRFLG9CQUViLE1BQU1nRSxFQUFvQixJQUFJN0QsRUFBYywwQkFBMkJyRCxHQUN2RWtILEVBQWtCaEUsb0JBRWxCLE1BQU0wRSxFQUFhLElDeElaLGNBQTZCbkYsRUFDbEMzRixZQUFZNEYsR0FDVmEsTUFBTWIsR0FDTnJGLEtBQUt3SyxVQUFZeEssS0FBS3NGLE9BQU9wRyxjQUFjLG9CQUMzQ2MsS0FBS3lLLE9BQVN6SyxLQUFLc0YsT0FBT3BHLGNBQWMsaUJBSTFDeUcsS0FBSzdDLEVBQU1FLEdBRVRrRCxNQUFNUCxPQUNKM0YsS0FBS3lLLE9BQU8xRixJQUFNL0IsRUFDbEJoRCxLQUFLeUssT0FBT3pGLElBQU1sQyxFQUNsQjlDLEtBQUt3SyxVQUFVakssWUFBY3VDLElEMkhHLGdCQUN0Q3lILEVBQVcxRSxvQkFHWCxNQVlNb0QsRUFBVSxJRTFKVCxNQUNMeEosWUFBWSxFQUFjaUwsR0FBWSxJQUExQixTQUFFQyxHQUF3QixFQUNwQzNLLEtBQUs0SyxVQUFZRCxFQUNqQjNLLEtBQUs2SyxXQUFhNUwsU0FBU0MsY0FBY3dMLEdBSzNDeEIsY0FBYzRCLEdBQ1pBLEVBQU0xSixTQUFTa0IsSUFDWHRDLEtBQUtzSyxRQUFRaEksTUFJbkJnSSxRQUFRaEksR0FDTixNQUFNeUksRUFBVS9LLEtBQUs0SyxVQUFVdEksR0FDL0J0QyxLQUFLNkssV0FBV0csUUFBUUQsS0YwSUMsQ0FBRUosU0FaWHJJLElBQ2xCLE1BQU0ySSxFQUFPLElBQUk1SSxFQUNmQyxFQUNBQyxFQUNBLGtCQUNBLElBcERxQkQsS0FDdkJpSSxFQUFXNUUsS0FBS3JELEVBQUtRLEtBQU1SLEVBQUtVLE9BbUR4QlAsQ0FBZ0JILEtBQ3RCLEtBakRvQnNILFVBaURDcUIsR0FoREZ4RyxVQUFZd0MsRUFBSWlFLFdBQWFqRSxFQUFJa0UsU0FFOUN2QixFQUFLakcsU0FDWmlFLE1BQU1HLElBQ0g2QixFQUFLeEYsZUFBZTJELEVBQUk3RSxVQUUzQmlHLE1BQU1DLFFBQVFDLFFBMkNaakosR0FBT3VDLEVBQWtCdkMsS0FFN0IsT0FBTzZLLEVBQUtyRyxpQkFHMEMsb0JBRWpEbUUsRUFBVyxJRzdKVixNQUNMdEosWUFBWSxHQUNaLElBRFksb0JBQUMyTCxFQUFELDBCQUFzQkMsRUFBdEIsY0FBaURyTSxHQUM3RCxFQUNFZ0IsS0FBS3NMLGFBQWNyTSxTQUFTQyxjQUFja00sR0FDMUNwTCxLQUFLdUwsbUJBQXFCdE0sU0FBU0MsY0FBY21NLEdBQ2pEckwsS0FBS3dMLGVBQWdCdk0sU0FBU0MsY0FBY0YsR0FHOUNxSixjQUNFLE1BQU8sQ0FDTHZGLEtBQU05QyxLQUFLc0wsYUFBYS9LLFlBQ3hCeUosV0FBWWhLLEtBQUt1TCxtQkFBbUJoTCxZQUNwQ2dJLE9BQVF2SSxLQUFLd0wsZUFBZXZHLE1BQU13RyxpQkFJdEN6QyxZQUFZbEcsRUFBTWtILEVBQVl6QixHQUM1QnZJLEtBQUtzTCxhQUFhL0ssWUFBY3VDLEVBQ2hDOUMsS0FBS3VMLG1CQUFtQmhMLFlBQWN5SixFQUN0Q2hLLEtBQUt3TCxlQUFldkcsTUFBTXdHLGdCQUExQixjQUFtRGxELEVBQW5ELE9IMEkwQixDQUM1QjZDLG9CQUFxQixtQkFDckJDLDBCQUEyQix1QkFDM0JyTSxjQUFlLG9CQWNqQkksRUFBV2lDLGlCQUFpQixTQVY1QixXQUNFLE1BQU1xSyxFQUFjM0MsRUFBU1YsY0FFN0JoSixFQUFVbUgsTUFBUWtGLEVBQVk1SSxLQUM5QnhELEVBQWdCa0gsTUFBUWtGLEVBQVkxQixXQUVwQ0YsRUFBaUJuRSxVQUtqQjJELEVBQWMsWUFBZ0J0SCxrQkFDOUJzSCxFQUFjLFlBQWdCM0gsZUFFaENwQyxFQUFVOEIsaUJBQWlCLFNBQVMsS0FDbEM4SSxFQUFheEUsT0FDYjJELEVBQWUsYUFBYXRILGtCQUM1QnNILEVBQWUsYUFBYTFILG1CQUc5QjVDLEVBQWNxQyxpQkFBaUIsU0FBUyxLQUN0QzZJLEVBQWtCdkUsT0FDbEIyRCxFQUFjLGFBQWlCdEgsa0JBQy9Cc0gsRUFBYyxhQUFpQjFILG1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8veWFuZGV4LnByYWN0aWN1bS5wcm9qZWN0Ly4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLnByb2plY3QvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0ucHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWN0aWN1bS5wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWN0aWN1bS5wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLnByb2plY3QvLi9zcmMvdXRpbHMvQXBpLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0ucHJvamVjdC8uL3NyYy9wYWdlL2luZGV4LmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0ucHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0ucHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWN0aWN1bS5wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy9Gb3IgUHJvZmlsZSBhbmQgcG9wdXAgZWxlbWVudHNcbmNvbnN0IHByb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlXCIpO1xuXG5jb25zdCBwcm9maWxlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfcHJvZmlsZVwiKTsgLy8ucG9wdXAgYmFzdGFraSBzaWxpbmRpXG5jb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19idXR0b25cIik7XG5jb25zdCBjbG9zZUJ1dHRvbiA9IHByb2ZpbGVQb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZVwiKTtcbmNvbnN0IGlucHV0TmFtZSA9IHByb2ZpbGVQb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF90eXBlX25hbWVcIik7XG5jb25zdCBpbnB1dFByb2Zlc3Npb24gPSBwcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV9wcm9mZXNzaW9uXCIpO1xuXG4vLyAvLy8vL0NBUkRTXG5cbmNvbnN0IGFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLWJ1dHRvblwiKTtcblxuLy8gV3JhcHBlcnNcbmNvbnN0IGVsZW1lbnRzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2NhcmRzXCIpO1xuXG5jb25zdCBzZXR0aW5ncyA9IHtcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fc2F2ZVwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19zYXZlX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXQtZXJyb3Jfb3BlblwiLFxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCIsXG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIlxufTtcblxuY29uc3QgZWRpdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX2VkaXRcIik7XG5jb25zdCBhZGRDYXJkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1fY2FyZHNcIik7XG5jb25zdCBhdmF0YXJDaGFuZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX2F2YXRhclwiKTtcblxuXG5leHBvcnQge1xuICBzZXR0aW5ncywgZWRpdEZvcm0sIGFkZENhcmRGb3JtLCBhdmF0YXJDaGFuZ2UsIGVkaXRCdXR0b24sIGNsb3NlQnV0dG9uLCBpbnB1dE5hbWUsIGlucHV0UHJvZmVzc2lvbixcbiAgYWRkQnV0dG9uLCBlbGVtZW50c0xpc3QsIHByb2ZpbGVBdmF0YXJcbn07XG5cblxuXG4vL2NvbnN0IHByb2ZpbGVJbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbmZvXCIpO1xuLy8gY29uc3QgcHJvZmlsZU5hbWUgPSBwcm9maWxlSW5mby5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2hlYWRlclwiKTtcbi8vIGNvbnN0IHByb2ZpbGVQcm9mZXNzaW9uID0gcHJvZmlsZUluZm8ucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19wcm9mZXNzaW9uXCIpO1xuLy8gY29uc3QgcG9wdXBMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cFwiKTtcbi8vIGNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQuZm9ybXMucHJvZmlsZUZvcm07IC8vcXVlcnlTZWxlY3RvcignLnBvcHVwX2Zvcm0nKTsvL1xuLy8gY29uc3QgcG9wdXBTZWxlY3RvciA9IFwicG9wdXBfb3BlblwiO1xuXG5cbi8vIGNvbnN0IENhcmRfVGVtcGxhdGVfU2VsZWN0b3IgPSBcIiNjYXJkLXRlbXBsYXRlXCI7XG4vLyBjb25zdCBwcmV2aWV3SW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGUtcHJldmlld1wiKTtcbi8vIGNvbnN0IGNhcmREZWxldGVQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9jb25maXJtLWRlbGV0ZVwiKTtcbi8vIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2J1dHRvbl9kZWxldGVcIilcbiIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB0aGlzLl9zZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvclxuICAgICk7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXQsIGVycm9yTWVzc2FnZSkgPT4ge1xuICAgIGNvbnN0IHsgaW5wdXRFcnJvckNsYXNzLCBlcnJvckNsYXNzIH0gPSB0aGlzLl9zZXR0aW5ncztcblxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKGlucHV0RXJyb3JDbGFzcyk7XG4gIH07XG5cbiAgX2hpZGVJbnB1dEVycm9yID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgeyBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQ2xhc3MgfSA9IHRoaXMuX3NldHRpbmdzO1xuXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZShlcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShpbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH07XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChpbnB1dCkgPT4ge1xuICAgIGlmICghaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0LCBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KTtcbiAgICB9XG4gIH07XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgaW5wdXRTZWxlY3RvciB9ID0gdGhpcy5fc2V0dGluZ3M7XG5cbiAgICB0aGlzLmlucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKGlucHV0U2VsZWN0b3IpXG4gICAgKTtcblxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbigpOyAvL21ldGhvZCBjaGVja1xuXG4gICAgdGhpcy5pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbigpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgX2hhc1ZhbGlkSW5wdXQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXRMaXN0LmV2ZXJ5KChpbnB1dCkgPT4gaW5wdXQudmFsaWRpdHkudmFsaWQpO1xuICB9O1xuXG4gIF90b2dnbGVCdXR0b24gPSAoKSA9PiB7XG4gICAgY29uc3QgeyBpbmFjdGl2ZUJ1dHRvbkNsYXNzIH0gPSB0aGlzLl9zZXR0aW5ncztcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gaW5hY3RpdmVCdXR0b25DbGFzcztcblxuICAgIGlmICh0aGlzLl9oYXNWYWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuZW5hYmxlQnV0dG9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGlzYWJsZUJ1dHRvbigpO1xuICAgIH1cbiAgfTtcblxuICBlbmFibGVCdXR0b24gPSAoKSA9PiB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIH07XG5cbiAgZGlzYWJsZUJ1dHRvbiA9ICgpID0+IHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICB9O1xuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLmlucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuXG5cbiIsImV4cG9ydCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoZGF0YSwgdXNlcklkLCB0ZW1wbGF0ZUNhcmRTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVMaWtlSWNvbiwgaGFuZGxlRGVsZXRlQ2xpY2spIHtcbiAgICAvL2NvbnNvbGUubG9nKFwiZGF0YVwiLCBkYXRhKTtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xuICAgIHRoaXMuX293bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcbiAgICAvL2NvbnNvbGUubG9nKFwib3duZXJJZFwiLCBkYXRhLm93bmVyLl9pZClcblxuICAgIHRoaXMuX3RlbXBsYXRlQ2FyZFNlbGVjdG9yID0gdGVtcGxhdGVDYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VJY29uID0gaGFuZGxlTGlrZUljb247XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcbiAgfVxuXG4gIGdldElkKCkge1xuICAgIHJldHVybiB0aGlzLl9pZFxuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlQ2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19jYXJkJyk7XG4gIH1cblxuICBfYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2hhbmRsZUxpa2VJY29uKCkpO1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKHRoaXMpKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbmFtZSwgdGhpcy5fbGluaykpO1xuICB9XG5cbiAgcmVtb3ZlQ2FyZCgpe1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIHNldExpa2VDb3VudGVyKG5ld0xpa2VzKSB7ICAgLy9sZW5ndGgga8Sxc23EsW7EsSBva3V5YW3EsXlvciBrYXJ0IGVrbGVuZW1peW9yIC0gaGFuZGxlY2FyZHN1Ym1pdCBmb25rc2l5b251bmEgbGlrZXMgdmUgX2lkIGVrbGV5ZXJlayDDp8O2emTDvCBeXisrXG4gICAgdGhpcy5fbGlrZXMgPSBuZXdMaWtlcztcblxuICAgIGNvbnN0IGxpa2VDb3VudGVyID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICAgIHRoaXMuX2NhcmRMaWtlQ291bnRlci50ZXh0Q29udGVudCA9IGxpa2VDb3VudGVyO1xuXG4gICAgY29uc3QgbGlrZUNsaWNrZWRieUN1cnJlbnRVc2VyID0gdGhpcy5pc0xpa2VkKCk7XG4gICAgaWYobGlrZUNsaWNrZWRieUN1cnJlbnRVc2VyKSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRzX19idXR0b24tbGlrZV9hY3RpdmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdlbGVtZW50c19fYnV0dG9uLWxpa2VfYWN0aXZlJyk7XG4gICAgfVxuICB9XG5cbiAgaXNMaWtlZCgpe1xuICAgIHJldHVybiB0aGlzLl9saWtlcy5maW5kKHVzZXIgPT4gdXNlci5faWQgPT09IHRoaXMuX3VzZXJJZCk7XG4gIH1cblxuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCkuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19pbWFnZScpO1xuICAgIHRoaXMuX2NhcmROYW1lID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19jYXJkLXRleHQnKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19idXR0b24tbGlrZScpO1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fYnV0dG9uLWRlbGV0ZScpO1xuICAgIHRoaXMuX2NhcmRMaWtlQ291bnRlciA9ICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2NhcmRfbGlrZXMnKTtcblxuICAgIC8vY2FyZCAvLyBkZXN0cnVjdHVyaW5nIGFzc2lnbm1lbnQvL1xuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2NhcmROYW1lLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblxuICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5zZXRMaWtlQ291bnRlcih0aGlzLl9saWtlcyk7XG5cbiAgICBpZih0aGlzLl91c2VySWQgIT09IHRoaXMuX293bmVySWQpIHtcbiAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnIC8vIGVsZW1lbnRzX19idXR0b24tZGVsZXRlXG4gICAgICB9O1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG59XG5cbiIsImNvbnN0IFBPUFVQX0NMQVNTID0gJ3BvcHVwJztcbmNvbnN0IENMT1NFX0JVVFRPTl9DTEFTUyA9ICdwb3B1cF9fY2xvc2UnO1xuY29uc3QgUE9QVVBfU0VMRUNUT1JfQ0xBU1MgPSAncG9wdXBfb3Blbic7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3RvcilcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcylcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChQT1BVUF9TRUxFQ1RPUl9DTEFTUyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoUE9QVVBfU0VMRUNUT1JfQ0xBU1MpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoUE9QVVBfQ0xBU1MpIHx8XG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKENMT1NFX0JVVFRPTl9DTEFTUylcbiAgICAgICkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSlcbiAgfVxufVxuLy8qKiogbW91c2Vkb3duIHJlcGxhY2VkIGNsaWNrIHRvIHByZXZlbnQgdGhlIGJ1ZyBpZiB5b3UgY2xpY2sgaW5zaWRlIGEgcG9wdXAgYW5kIHRoZW4gbW92ZSB5b3VyIG1vdXNlIG91dHNpZGUgaXRcbi8vIGFuZCByZWxlYXNlIHRoZSBidXR0b24gYWJvdmUgdGhlIG92ZXJsYXkgdGhlbiB0aGUgcG9wdXAgY2xvc2VzIGJ1dCBpdOKAmXMgbm90XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVTdWJtaXRGb3JtICkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpXG5cbiAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtID0gaGFuZGxlU3VibWl0Rm9ybVxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKVxuICAgIHRoaXMuX2lucHV0cyA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19zYXZlJylcbiAgICAvLyB0aGlzLl9zdWJtaXRCdG5UZXh0ID0gdGhpcy5fc3VibWl0QnRuVGV4dC50ZXh0Q29udGVudFxuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IHt9XG5cblxuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gaW5wdXQuaWRcbiAgICAgIGNvbnN0IHZhbHVlID0gaW5wdXQudmFsdWVcbiAgICAgIHZhbHVlc1trZXldID0gdmFsdWVcbiAgICB9KVxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKClcblxuICAgICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCAnc3VibWl0JywgKGUpID0+IHtcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKCdpbnB1dCB0YWtlbicpXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtKHRoaXMuX2dldElucHV0VmFsdWVzKCkpXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSl7XG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV07XG4gICAgfSlcbiAgfVxuXG4gIGNoYW5nZVN1Ym1pdEhhbmRsZXIobmV3U3VibWl0SGFuZGxlcikge1xuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdEZvcm0gPSBuZXdTdWJtaXRIYW5kbGVyXG4gIH1cblxuICBjaGFuZ2VUZXh0KHRleHQpIHtcbiAgICBjb25zdCBidXR0b24gPSB0aGlzLl9zdWJtaXRCdXR0b247XG4gICAgLy8gdGhpcy5yZW5kZXJMb2FkaW5nKClcblxuICAgIGlmKHRleHQgPT09ICdTYXZpbmcnKSB7XG4gICAgICBidXR0b24udGV4dENvbnRlbnQgPSAnU2F2aW5nLi4uJ1xuICAgIH1cbiAgICBpZih0ZXh0ID09PSAnRGVmYXVsdCcpIHtcbiAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9ICdTYXZlJ1xuICAgIH1cbiAgfVxuXG5cbiAgLy8gcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcsIGxvYWRpbmdUZXh0PSdTYXZpbmcuLi4nKSB7XG4gIC8vICAgY29uc3QgYnV0dG9uID0gdGhpcy5fc3VibWl0QnV0dG9uO1xuICAvLyAgIGlmIChpc0xvYWRpbmcpIHtcbiAgLy8gICAgIHRoaXMuYnV0dG9uLnRleHRDb250ZW50ID0gbG9hZGluZ1RleHQ7XG4gIC8vICAgfSBlbHNlIHtcbiAgLy8gICAgIHRoaXMuYnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fc3VibWl0QnV0dG9uO1xuICAvLyAgIH1cbiAgLy8gfVxuXG4gIGNsb3NlKCkge1xuICAgICAgc3VwZXIuY2xvc2UoKVxuICAgICAgdGhpcy5fZm9ybS5yZXNldCgpXG4gIH1cblxufVxuXG4iLCJjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybFxuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnNcbiAgfVxuXG5cbiAgX2NoZWNrUmVzcG9uc2UocmVzKXtcbiAgICByZXR1cm4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5TdGF0dXNUZXh0KVxuICB9XG5cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvdXNlcnMvbWUnLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxuICAgIC8vIC5jYXRjaChlcnIgPT4ge1xuICAgIC8vICAgY29uc29sZS5sb2coJ0FwaSBoYXMgYW4gZXJyb3IhISEnKVxuICAgIC8vIH0pXG4gIH1cblxuICBlZGl0UHJvZmlsZSA9IChuYW1lLCBhYm91dCkgPT4ge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgJy91c2Vycy9tZScsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgYWJvdXQsXG4gICAgICB9KVxuICAgIH0pXG4gICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcbiAgfVxuXG4gIGVkaXRBdmF0YXIoYXZhdGFyKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL3VzZXJzL21lL2F2YXRhcicsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyXG4gICAgICB9KVxuICAgIH0pXG4gICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvY2FyZHMnLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxuICB9IC8vbmFtZSAgJiBsaW5rIGluIHRoZSBib2R5IGNoZWNrIG0uXG5cbiAgYWRkQ2FyZChuYW1lLCBsaW5rKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzJywge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGxpbmssXG4gICAgICB9KVxuICAgIH0pXG4gICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcbiAgfVxuXG4gIGFkZExpa2UgPSAoaWQpID0+IHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvY2FyZHMvbGlrZXMvJyArIGlkLCB7XG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSlcbiAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxuICB9XG5cbiAgcmVtb3ZlTGlrZSA9IChpZCkgPT4ge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgJy9jYXJkcy9saWtlcy8nICsgaWQsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KVxuICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXG4gIH1cblxuICBkZWxldGVDYXJkKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzLycgKyBpZCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pXG4gICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcbiAgfVxuXG59XG5cblxuXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtMy1lblwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCI5Mzk4YTQ4My00ODRlLTRlYmQtYTM3NC1iNmIzYjk4NWU5YzRcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICB9XG59KTsgLy8gdGhpcy5fYmFzZVVybCAvLyB0aGlzLl9oZWFkZXJzXG4iLCJcbmltcG9ydCBcIi4uL3BhZ2UvaW5kZXguY3NzXCI7IC8vIG1haW4gYnJpZGdlIHRvIGNzcyBmaWxlcyBhZnRlciB3ZWJwYWNrIGJ1aWxkIGFsd2F5cyBpbnN0YWxsIDFzdFxuXG5pbXBvcnQgeyBzZXR0aW5ncywgZWRpdEJ1dHRvbiwgaW5wdXROYW1lLCBpbnB1dFByb2Zlc3Npb24sXG4gICAgICAgICBhZGRCdXR0b24sIHByb2ZpbGVBdmF0YXIgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9ICBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0IHsgQ2FyZCB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuaW1wb3J0IHsgUG9wdXBXaXRoSW1hZ2UgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuXG5pbXBvcnQgeyBhcGksIEFwaSB9IGZyb20gXCIuLi91dGlscy9BcGkuanNcIjtcbi8vaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFwiO1xuXG5sZXQgdXNlcklkXG5cbi8vYXBpLmdldFVzZXJJbmZvICYgYXBpLmdldEluaXRpYWxDYXJkcyBjb21iaW5lZCB3aXRoIFByb21pc2UuXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pXG4gIC50aGVuKChbdXNlckRhdGEsIGNhcmRzXSkgPT4ge1xuICAgIHVzZXJJZCA9IHVzZXJEYXRhLl9pZCAvL2NvbnNvbGUubG9nKCd1c2VyID0+JywgdXNlckRhdGEpXG5cbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YS5uYW1lLCAgdXNlckRhdGEuYWJvdXQsIHVzZXJEYXRhLmF2YXRhcilcbiAgICBzZWN0aW9uLnJlbmRlcmVySXRlbXMoY2FyZHMpXG4gIH0pXG4gIC5jYXRjaChjb25zb2xlLmxvZylcblxuXG5cbmNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge31cblxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3RvcikpXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XG4gICAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoIGNvbmZpZywgZm9ybUVsZW1lbnQgKVxuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJylcblxuICAgIGZvcm1WYWxpZGF0b3JzW2Zvcm1OYW1lXSA9IHZhbGlkYXRvcjtcblxuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gIH0pO1xufTtcblxuZW5hYmxlVmFsaWRhdGlvbihzZXR0aW5ncyk7XG5cblxuXG5jb25zdCBoYW5kbGVDYXJkU3VibWl0ID0gKGRhdGEpID0+IHtcbiAgYWRkQ2FyZFBvcHVwLmNoYW5nZVRleHQoJ1NhdmluZycpXG4gIGFwaS5hZGRDYXJkKGRhdGEuY2FyZFRpdGxlLCBkYXRhLmNhcmRJbWFnZUxpbmspXG4gICAgLnRoZW4ocmVzID0+IHtcbiAgICAgIHNlY3Rpb24uYWRkSXRlbShyZXMpXG4gICAgfSlcbiAgICAudGhlbiggcmVzID0+IHtcbiAgICAgIGFkZENhcmRQb3B1cC5jbG9zZShyZXMpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUubG9nKVxuICAgIC5maW5hbGx5ICgoKSA9PiB7XG4gICAgICBhZGRDYXJkUG9wdXAuY2hhbmdlVGV4dCgnRGVmYXVsdCcpO1xuICAgIH0pXG5cblxufVxuLy9oYW5kbGUgZWRpdHByb2ZpbGUgc3VibWl0XG5jb25zdCBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCA9IChkYXRhKSA9PiB7XG4gIGVkaXRQcm9maWxlUG9wdXAuY2hhbmdlVGV4dCgnU2F2aW5nJylcbiAgYXBpLmVkaXRQcm9maWxlKGRhdGEubmFtZSwgZGF0YS5wcm9mZXNzaW9uKVxuICAgIC50aGVuKCByZXMgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzLm5hbWUsIGRhdGEucHJvZmVzc2lvbiwgcmVzLmF2YXRhcilcbiAgICB9KVxuICAgIC50aGVuKCByZXMgPT4ge1xuICAgICAgZWRpdFByb2ZpbGVQb3B1cC5jbG9zZShyZXMpXG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5sb2cpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgZWRpdFByb2ZpbGVQb3B1cC5jaGFuZ2VUZXh0KCdEZWZhdWx0JylcbiAgICB9KVxufTtcblxuLy8gaGFuZGxlIGF2YXRhciBQaWN0dXJlIFN1Ym1pdFxuY29uc3QgaGFuZGxlQXZhdGFyU3VibWl0ID0gKGRhdGEpID0+IHtcbiAgYXZhdGFyQ2hhbmdlUG9wdXAuY2hhbmdlVGV4dCgnU2F2aW5nJylcbiAgYXBpLmVkaXRBdmF0YXIoIGRhdGEubGluaylcbiAgICAudGhlbiggcmVzID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcy5uYW1lLCByZXMuYWJvdXQsIHJlcy5hdmF0YXIpXG4gICAgfSlcbiAgICAudGhlbiggcmVzID0+IHtcbiAgICAgIGF2YXRhckNoYW5nZVBvcHVwLmNsb3NlKHJlcyk7XG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5sb2cpXG4gICAgLmZpbmFsbHkoICgpID0+IHtcbiAgICAgIGF2YXRhckNoYW5nZVBvcHVwLmNoYW5nZVRleHQoJ0RlZmF1bHQnKVxuICAgIH0pXG59O1xuXG4vL2hhbmRsZSBDYXJkIENsaWNrXG5jb25zdCBoYW5kbGVDYXJkQ2xpY2sgPSAoZGF0YSkgPT4ge1xuICBpbWFnZVBvcHVwLm9wZW4oZGF0YS5uYW1lLCBkYXRhLmxpbmspO1xufVxuLy9oYW5kbGUgQ2FyZCBMaWtlIEZ1bmN0aW9uXG5jb25zdCBoYW5kbGVMaWtlSWNvbiA9IChjYXJkKSA9PiB7XG4gIGNvbnN0IHJlcXVlc3QgPSBjYXJkLmlzTGlrZWQoKSA/IGFwaS5yZW1vdmVMaWtlIDogYXBpLmFkZExpa2VcblxuICByZXF1ZXN0KGNhcmQuZ2V0SWQoKSlcbiAgLnRoZW4gKHJlcyA9PiAge1xuICAgICAgY2FyZC5zZXRMaWtlQ291bnRlcihyZXMubGlrZXMpXG4gIH0pXG4gIC5jYXRjaChjb25zb2xlLmxvZylcbn1cblxuLy8gaGFuZGxlIGNvbmZpcm0gQ2FyZCBEZWxldGUgRnVuY3Rpb25cbmNvbnN0IGhhbmRsZURlbGV0ZUNsaWNrID0gKGNhcmQpID0+IHtcbiAgY29uZmlybUNhcmREZWxldGUub3BlbigpXG5cbiAgY29uZmlybUNhcmREZWxldGUuY2hhbmdlU3VibWl0SGFuZGxlcigoKSA9PiB7XG4gICAgYXBpLmRlbGV0ZUNhcmQoY2FyZC5nZXRJZCgpKVxuICAgIC50aGVuKCAoKSA9PiB7XG4gICAgICBjYXJkLnJlbW92ZUNhcmQoKVxuICAgIH0pXG4gICAgLnRoZW4oICgpID0+IHtcbiAgICAgIGNvbmZpcm1DYXJkRGVsZXRlLmNsb3NlKClcbiAgICB9KVxuICAgIC5jYXRjaChjb25zb2xlLmxvZylcbiAgfSlcbn1cblxuLy9jbGFzcyBpbnN0YW5jZXMgb2YgUG9wdXBcbmNvbnN0IGVkaXRQcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSgnI3BvcHVwLXRlbXBsYXRlJywgaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQpXG5lZGl0UHJvZmlsZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKClcblxuY29uc3QgYXZhdGFyQ2hhbmdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSgnI3BvcHVwLXRlbXBsYXRlLWF2YXRhcicsIGhhbmRsZUF2YXRhclN1Ym1pdClcbmF2YXRhckNoYW5nZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKClcblxuY29uc3QgYWRkQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oJyNwb3B1cC10ZW1wbGF0ZS1mb3JtJywgaGFuZGxlQ2FyZFN1Ym1pdClcbmFkZENhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpIC8vb25seSBjYWxsIG9uY2VcblxuY29uc3QgY29uZmlybUNhcmREZWxldGUgPSBuZXcgUG9wdXBXaXRoRm9ybSgnI3BvcHVwLXRlbXBsYXRlLWNvbmZpcm0nLCBoYW5kbGVEZWxldGVDbGljaylcbmNvbmZpcm1DYXJkRGVsZXRlLnNldEV2ZW50TGlzdGVuZXJzKClcblxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnI3BvcHVwLWltYWdlJylcbmltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuXG5jb25zdCBjcmVhdGVDYXJkID0gKGRhdGEpID0+IHtcbiAgY29uc3QgaXRlbSA9IG5ldyBDYXJkIChcbiAgICBkYXRhLFxuICAgIHVzZXJJZCxcbiAgICAnI2NhcmQtdGVtcGxhdGUnLFxuICAgICgpID0+IGhhbmRsZUNhcmRDbGljayhkYXRhKSwgICAgICAvLzR0aCBjb25zdHJ1Y3RvciBpdGVtIGhhbmRsZUNhcmRDbGlja1xuICAgICgpID0+IGhhbmRsZUxpa2VJY29uKGl0ZW0pLCAgICAgICAvLzV0aCAgY29uc3RydWN0b3IgaXRlbSBoYW5kbGVMaWtlSWNvblxuICAgIChpZCkgPT4gaGFuZGxlRGVsZXRlQ2xpY2soaWQpICAgICAvLzZ0aCBjb25zdHJjdXRvciBpdGVtIGhhbmRsZURlbGV0ZUNsaWNrXG4gIClcbiByZXR1cm4gaXRlbS5nZW5lcmF0ZUNhcmQoKTtcbn1cblxuY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKCB7IHJlbmRlcmVyOiBjcmVhdGVDYXJkIH0sICcuZWxlbWVudHNfX2NhcmRzJyApXG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgcHJvZmlsZU5hbWVTZWxlY3RvcjogJy5wcm9maWxlX19oZWFkZXInLFxuICBwcm9maWxlUHJvZmVzc2lvblNlbGVjdG9yOiAnLnByb2ZpbGVfX3Byb2Zlc3Npb24nLFxuICBwcm9maWxlQXZhdGFyOiAnLnByb2ZpbGVfX2ltYWdlJyxcbn0pXG5cblxuZnVuY3Rpb24gb3BlblByb2ZpbGVQb3B1cCgpIHtcbiAgY29uc3QgcHJvZmlsZUluZm8gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuXG4gIGlucHV0TmFtZS52YWx1ZSA9IHByb2ZpbGVJbmZvLm5hbWU7XG4gIGlucHV0UHJvZmVzc2lvbi52YWx1ZSA9IHByb2ZpbGVJbmZvLnByb2Zlc3Npb247XG5cbiAgZWRpdFByb2ZpbGVQb3B1cC5vcGVuKCk7XG59XG5cbi8vRXZlbnQgaGFuZGxlcnMgc3Vic2NyaXB0aW9ucyB0byBwb3B1cC9tb2RhbCBjb250cm9sc1xuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Qcm9maWxlUG9wdXApXG4gIGZvcm1WYWxpZGF0b3JzWydwcm9maWxlRm9ybSddLnJlc2V0VmFsaWRhdGlvbigpO1xuICBmb3JtVmFsaWRhdG9yc1sncHJvZmlsZUZvcm0nXS5lbmFibGVCdXR0b24oKTtcblxuYWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBhZGRDYXJkUG9wdXAub3BlbigpO1xuICBmb3JtVmFsaWRhdG9yc1snYWRkLWNhcmRzJ10ucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGZvcm1WYWxpZGF0b3JzWydhZGQtY2FyZHMnXS5kaXNhYmxlQnV0dG9uKCk7XG59KVxuXG5wcm9maWxlQXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBhdmF0YXJDaGFuZ2VQb3B1cC5vcGVuKCk7XG4gIGZvcm1WYWxpZGF0b3JzWydhdmF0YXJDaGFuZ2UnXS5yZXNldFZhbGlkYXRpb24oKTtcbiAgZm9ybVZhbGlkYXRvcnNbJ2F2YXRhckNoYW5nZSddLmRpc2FibGVCdXR0b24oKTtcbn0pXG5cblxuIiwiXG5pbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpXG4gICAgdGhpcy5fc3VidGl0bGUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3N1YnRpdGxlJyk7XG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7XG4gIH1cblxuXG4gIG9wZW4obmFtZSwgbGluaykge1xuXG4gICAgc3VwZXIub3BlbigpXG4gICAgICB0aGlzLl9pbWFnZS5zcmMgPSBsaW5rO1xuICAgICAgdGhpcy5faW1hZ2UuYWx0ID0gbmFtZTtcbiAgICAgIHRoaXMuX3N1YnRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcblxuICB9XG5cbn1cbiIsIlxuZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lciApIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKTtcbiAgfVxuXG5cblxuICByZW5kZXJlckl0ZW1zKGl0ZW1zKSB7XG4gICAgaXRlbXMuZm9yRWFjaCgoZGF0YSkgPT4ge1xuICAgICAgICB0aGlzLmFkZEl0ZW0oZGF0YSlcbiAgICB9KVxuICB9O1xuXG4gIGFkZEl0ZW0oZGF0YSkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9yZW5kZXJlcihkYXRhKVxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpXG4gIH07XG5cblxufVxuIiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3Ioe3Byb2ZpbGVOYW1lU2VsZWN0b3IsIHByb2ZpbGVQcm9mZXNzaW9uU2VsZWN0b3IsIHByb2ZpbGVBdmF0YXJ9KVxuICB7XG4gICAgdGhpcy5fcHJvZmlsZU5hbWU9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZU5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fcHJvZmlsZVByb2Zlc3Npb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVQcm9mZXNzaW9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXI9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUF2YXRhcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpe1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCxcbiAgICAgIHByb2Zlc3Npb246IHRoaXMuX3Byb2ZpbGVQcm9mZXNzaW9uLnRleHRDb250ZW50LFxuICAgICAgYXZhdGFyOiB0aGlzLl9wcm9maWxlQXZhdGFyLnN0eWxlLmJhY2tncm91bmRJbWFnZVxuICAgIH1cbiAgfVxuXG4gIHNldFVzZXJJbmZvKG5hbWUsIHByb2Zlc3Npb24sIGF2YXRhcikge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9wcm9maWxlUHJvZmVzc2lvbi50ZXh0Q29udGVudCA9IHByb2Zlc3Npb247XG4gICAgdGhpcy5fcHJvZmlsZUF2YXRhci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7YXZhdGFyfSlgO1xuICB9XG5cblxufVxuIl0sIm5hbWVzIjpbInByb2ZpbGVBdmF0YXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9maWxlUG9wdXAiLCJlZGl0QnV0dG9uIiwiaW5wdXROYW1lIiwiaW5wdXRQcm9mZXNzaW9uIiwiYWRkQnV0dG9uIiwiRm9ybVZhbGlkYXRvciIsImNvbnN0cnVjdG9yIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsImlucHV0IiwiZXJyb3JNZXNzYWdlIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsInRoaXMiLCJfc2V0dGluZ3MiLCJlcnJvckVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwicmVtb3ZlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiaW5wdXRTZWxlY3RvciIsImlucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfdG9nZ2xlQnV0dG9uIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiZXZlcnkiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaGFzVmFsaWRJbnB1dCIsImVuYWJsZUJ1dHRvbiIsImRpc2FibGVCdXR0b24iLCJfc3VibWl0QnV0dG9uIiwiZGlzYWJsZWQiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsInJlc2V0VmFsaWRhdGlvbiIsImVuYWJsZVZhbGlkYXRpb24iLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsIkNhcmQiLCJkYXRhIiwidXNlcklkIiwidGVtcGxhdGVDYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVMaWtlSWNvbiIsImhhbmRsZURlbGV0ZUNsaWNrIiwiX2RhdGEiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9pZCIsIl91c2VySWQiLCJfb3duZXJJZCIsIm93bmVyIiwiX3RlbXBsYXRlQ2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVMaWtlSWNvbiIsIl9oYW5kbGVEZWxldGVDbGljayIsImdldElkIiwiX2dldFRlbXBsYXRlIiwiY29udGVudCIsIl9hZGRFdmVudExpc3RlbmVycyIsIl9saWtlQnV0dG9uIiwiX2RlbGV0ZUJ1dHRvbiIsIl9jYXJkSW1hZ2UiLCJyZW1vdmVDYXJkIiwiX2NhcmRFbGVtZW50Iiwic2V0TGlrZUNvdW50ZXIiLCJuZXdMaWtlcyIsImxpa2VDb3VudGVyIiwibGVuZ3RoIiwiX2NhcmRMaWtlQ291bnRlciIsImlzTGlrZWQiLCJmaW5kIiwidXNlciIsImdlbmVyYXRlQ2FyZCIsImNsb25lTm9kZSIsIl9jYXJkTmFtZSIsInNyYyIsImFsdCIsInN0eWxlIiwiZGlzcGxheSIsIlBPUFVQX1NFTEVDVE9SX0NMQVNTIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsImtleSIsImNsb3NlIiwib3BlbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZVN1Ym1pdEZvcm0iLCJzdXBlciIsIl9oYW5kbGVTdWJtaXRGb3JtIiwiX2Zvcm0iLCJfaW5wdXRzIiwiX2dldElucHV0VmFsdWVzIiwidmFsdWVzIiwidmFsdWUiLCJlIiwic2V0SW5wdXRWYWx1ZXMiLCJjaGFuZ2VTdWJtaXRIYW5kbGVyIiwibmV3U3VibWl0SGFuZGxlciIsImNoYW5nZVRleHQiLCJ0ZXh0IiwiYnV0dG9uIiwicmVzZXQiLCJhcGkiLCJvcHRpb25zIiwiYWJvdXQiLCJmZXRjaCIsIl9iYXNlVXJsIiwibWV0aG9kIiwiaGVhZGVycyIsIl9oZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0aGVuIiwiX2NoZWNrUmVzcG9uc2UiLCJiYXNlVXJsIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsIlN0YXR1c1RleHQiLCJnZXRVc2VySW5mbyIsImVkaXRBdmF0YXIiLCJhdmF0YXIiLCJnZXRJbml0aWFsQ2FyZHMiLCJhZGRDYXJkIiwiZGVsZXRlQ2FyZCIsImF1dGhvcml6YXRpb24iLCJhbGwiLCJ1c2VyRGF0YSIsImNhcmRzIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsInNlY3Rpb24iLCJyZW5kZXJlckl0ZW1zIiwiY2F0Y2giLCJjb25zb2xlIiwibG9nIiwiZm9ybVZhbGlkYXRvcnMiLCJjb25maWciLCJmb3JtU2VsZWN0b3IiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsImNhcmQiLCJjb25maXJtQ2FyZERlbGV0ZSIsImVkaXRQcm9maWxlUG9wdXAiLCJlZGl0UHJvZmlsZSIsInByb2Zlc3Npb24iLCJmaW5hbGx5IiwiYXZhdGFyQ2hhbmdlUG9wdXAiLCJhZGRDYXJkUG9wdXAiLCJjYXJkVGl0bGUiLCJjYXJkSW1hZ2VMaW5rIiwiYWRkSXRlbSIsImltYWdlUG9wdXAiLCJfc3VidGl0bGUiLCJfaW1hZ2UiLCJjb250YWluZXIiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtcyIsImVsZW1lbnQiLCJwcmVwZW5kIiwiaXRlbSIsInJlbW92ZUxpa2UiLCJhZGRMaWtlIiwicHJvZmlsZU5hbWVTZWxlY3RvciIsInByb2ZpbGVQcm9mZXNzaW9uU2VsZWN0b3IiLCJfcHJvZmlsZU5hbWUiLCJfcHJvZmlsZVByb2Zlc3Npb24iLCJfcHJvZmlsZUF2YXRhciIsImJhY2tncm91bmRJbWFnZSIsInByb2ZpbGVJbmZvIl0sInNvdXJjZVJvb3QiOiIifQ==