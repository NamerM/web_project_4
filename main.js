!function(){"use strict";const e=document.querySelector(".profile__image"),t=document.querySelector(".popup_type_profile"),s=document.querySelector(".profile__button"),i=(t.querySelector(".popup__close"),t.querySelector(".popup__input_type_name")),r=t.querySelector(".popup__input_type_profession"),n=document.querySelector(".add-button"),o=(document.querySelector(".elements__cards"),{inputSelector:".popup__input",submitButtonSelector:".popup__save",inactiveButtonClass:"popup__save_disabled",inputErrorClass:"popup__input-error_open",errorClass:"popup__error_visible"}),a=document.querySelector(".popup__form_edit"),l=document.querySelector(".popup__form_cards"),c=document.querySelector(".popup__form_avatar");function h(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var d=class{constructor(e,t){h(this,"_showInputError",((e,t)=>{const{inputErrorClass:s,errorClass:i}=this._settings,r=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(i),r.textContent=t,r.classList.add(s)})),h(this,"_hideInputError",(e=>{const{inputErrorClass:t,errorClass:s}=this._settings,i=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(s),i.classList.remove(t),i.textContent=""})),h(this,"_checkInputValidity",(e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)})),h(this,"_setEventListeners",(()=>{const{inputSelector:e}=this._settings;this.inputList=Array.from(this._formElement.querySelectorAll(e)),this._toggleButton(),this.inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButton()}))}))})),h(this,"_hasValidInput",(()=>this.inputList.every((e=>e.validity.valid)))),h(this,"_toggleButton",(()=>{const{inactiveButtonClass:e}=this._settings;this._inactiveButtonClass=e,this._hasValidInput()?this.enableButton():this.disableButton()})),h(this,"enableButton",(()=>{this._submitButton.disabled=!1,this._submitButton.classList.remove(this._inactiveButtonClass)})),h(this,"disableButton",(()=>{this._submitButton.disabled=!0,this._submitButton.classList.add(this._inactiveButtonClass)})),this._settings=e,this._formElement=t,this._submitButton=this._formElement.querySelector(this._settings.submitButtonSelector)}resetValidation(){this.inputList.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}};class _{constructor(e,t,s,i,r,n){this._data=e,this._name=e.name,this._link=e.link,this._likes=e.likes,this._id=e._id,this._userId=t,this._ownerId=e.owner._id,this._templateCardSelector=s,this._handleCardClick=i,this._handleLikeIcon=r,this._handleDeleteClick=n}getId(){return this._id}_getTemplate(){return document.querySelector(this._templateCardSelector).content.querySelector(".elements__card")}_addEventListeners(){this._likeButton.addEventListener("click",(()=>this._handleLikeIcon())),this._deleteButton.addEventListener("click",(()=>this._handleDeleteClick(this))),this._cardImage.addEventListener("click",(()=>this._handleCardClick(this._name,this._link)))}removeCard(){this._cardElement.remove()}setLikeCounter(e){this._likes=e;const t=this._likes.length;this._cardElement.querySelector(".elements__card_likes").textContent=t,this.isLiked()?this._likeButton.classList.add("elements__button-like_active"):this._likeButton.classList.remove("elements__button-like_active")}isLiked(){return this._likes.find((e=>e._id===this._userId))}generateCard(){return this._cardElement=this._getTemplate().cloneNode(!0),this._cardImage=this._cardElement.querySelector(".elements__image"),this._cardName=this._cardElement.querySelector(".elements__card-text"),this._likeButton=this._cardElement.querySelector(".elements__button-like"),this._deleteButton=this._cardElement.querySelector(".elements__button-delete"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardName.textContent=this._name,this._addEventListeners(),this.setLikeCounter(this._likes),this._userId!==this._ownerId&&(this._deleteButton.style.display="none"),this._cardElement}}const u="popup_open";class p{constructor(e){this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}_handleEscClose(e){"Escape"===e.key&&this.close()}open(){this._popup.classList.add(u),document.addEventListener("keydown",this._handleEscClose)}close(){this._popup.classList.remove(u),document.removeEventListener("keydown",this._handleEscClose)}setEventListeners(){this._popup.addEventListener("mousedown",(e=>{(e.target.classList.contains("popup")||e.target.classList.contains("popup__close"))&&this.close()}))}}class m extends p{constructor(e,t){super(e),this._handleSubmitForm=t,this._form=this._popup.querySelector(".popup__form"),this._inputs=this._form.querySelectorAll(".popup__input")}_getInputValues(){const e={};return this._inputs.forEach((t=>{const s=t.id,i=t.value;e[s]=i})),e}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmitForm(this._getInputValues())}))}setInputValues(e){this._inputs.forEach((t=>{t.value=e[t.name]}))}close(){super.close(),this._form.reset()}}const f=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}getUserInfo(){return fetch(this._baseUrl+"/users/me",{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}editProfile(e,t){return fetch(this._baseUrl+"/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}editAvatar(e){return fetch(this._baseUrl+"/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}getInitialCards(){return fetch(this._baseUrl+"/cards",{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}addCard(e,t){return fetch(this._baseUrl+"/cards",{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}addLike(e){return fetch(this._baseUrl+"/cards/likes/"+e,{method:"PUT",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}removeLike(e){return fetch(this._baseUrl+"/cards/likes/"+e,{method:"DELETE",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}deleteCard(e){return fetch(this._baseUrl+"/cards/"+e,{method:"DELETE",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}}({baseUrl:"https://around.nomoreparties.co/v1/cohort-3-en",headers:{authorization:"9398a483-484e-4ebd-a374-b6b3b985e9c4","Content-Type":"application/json"}});let v;Promise.all([f.getUserInfo(),f.getInitialCards()]).then((e=>{let[t,s]=e;v=t._id,B.setUserInfo(t.name,t.about,t.avatar),q.rendererItems(s)})).catch(console.log);const k=new d(o,a),b=new d(o,l),E=new d(o,c);let g;k.enableValidation(),b.enableValidation(),E.enableValidation(),k.resetValidation();const y=new m("#popup-template",(e=>{f.editProfile(e.name,e.profession).then((t=>{B.setUserInfo(t.name,e.profession,t.avatar)})).catch(console.log).finally((()=>{y.close()}))}));y.setEventListeners();const L=new m("#popup-template-avatar",(e=>{f.editAvatar(e.link).then((e=>{B.setUserInfo(e.name,e.about,e.avatar)})).catch(console.log).finally((()=>{L.close()}))}));L.setEventListeners();const C=new m("#popup-template-form",(e=>{f.addCard(e.cardTitle,e.cardImageLink).then((e=>{const t={name:e.name,link:e.link,likes:e.likes,_id:e._id};q.addItem(t)})).catch(console.log),C.close()}));C.setEventListeners();const S=new m("#popup-template-confirm",(()=>{f.deleteCard(g.getId()).then((e=>{g.removeCard()}))}));S.setEventListeners();const I=new class extends p{constructor(e){super(e),this._subtitle=this._popup.querySelector(".popup__subtitle"),this._image=this._popup.querySelector(".popup__image")}open(e,t){super.open(),this._image.src=t,this._image.alt=e,this._subtitle.textContent=e}}("#popup-image");I.setEventListeners();const q=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}rendererItems(e){e.forEach((e=>{this.addItem(e)}))}addItem(e){const t=this._renderer(e);this._container.prepend(t)}}({renderer:e=>{const t=new _(e,v,"#card-template",((e,t)=>{I.open(e,t)}),(()=>{t.isLiked()?f.removeLike(t.getId()).then((e=>{t.setLikeCounter(e.likes)})):f.addLike(t.getId()).then((e=>{t.setLikeCounter(e.likes)}))}),(e=>{var t;t=e,S.open(),g=t,console.log("id =>",t)}));return t.generateCard()}},".elements__cards"),B=new class{constructor(e){let{profileNameSelector:t,profileProfessionSelector:s,profileAvatar:i}=e;this._profileName=document.querySelector(t),this._profileProfession=document.querySelector(s),this._profileAvatar=document.querySelector(i)}getUserInfo(){return{name:this._profileName.textContent,profession:this._profileProfession.textContent,avatar:this._profileAvatar.style.backgroundImage}}setUserInfo(e,t,s){this._profileName.textContent=e,this._profileProfession.textContent=t,this._profileAvatar.style.backgroundImage="url(".concat(s,")")}}({profileNameSelector:".profile__header",profileProfessionSelector:".profile__profession",profileAvatar:".profile__image"});s.addEventListener("click",(function(){const e=B.getUserInfo();i.value=e.name,r.value=e.profession,k.resetValidation(),k.enableButton(),y.open()})),n.addEventListener("click",(()=>{b.resetValidation(),b.disableButton(),C.open()})),e.addEventListener("click",(()=>{E.resetValidation(),E.disableButton(),L.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGlCQUFpQixTQUFTLEtBQ2xDNkgsRUFBcUJwSCxrQkFDckJvSCxFQUFxQnZILGdCQUNyQjhILEVBQWFqRSxVQUlmNUcsRUFBY3lDLGlCQUFpQixTQUFTLEtBQ3RDOEgsRUFBb0JySCxrQkFDcEJxSCxFQUFvQnhILGdCQUNwQjZILEVBQWtCaEUsVSIsInNvdXJjZXMiOlsid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0ucHJvamVjdC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWN0aWN1bS5wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLnByb2plY3QvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0ucHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0ucHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8veWFuZGV4LnByYWN0aWN1bS5wcm9qZWN0Ly4vc3JjL3V0aWxzL0FwaS5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLnByb2plY3QvLi9zcmMvcGFnZS9pbmRleC5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLnByb2plY3QvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly95YW5kZXgucHJhY3RpY3VtLnByb2plY3QvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3lhbmRleC5wcmFjdGljdW0ucHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vRm9yIFByb2ZpbGUgYW5kIHBvcHVwIGVsZW1lbnRzXG5jb25zdCBwcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZVwiKTtcblxuY29uc3QgcHJvZmlsZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX3Byb2ZpbGVcIik7IC8vLnBvcHVwIGJhc3Rha2kgc2lsaW5kaVxuY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYnV0dG9uXCIpO1xuY29uc3QgY2xvc2VCdXR0b24gPSBwcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2xvc2VcIik7XG5jb25zdCBpbnB1dE5hbWUgPSBwcm9maWxlUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfdHlwZV9uYW1lXCIpO1xuY29uc3QgaW5wdXRQcm9mZXNzaW9uID0gcHJvZmlsZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3R5cGVfcHJvZmVzc2lvblwiKTtcblxuLy8gLy8vLy9DQVJEU1xuXG5jb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC1idXR0b25cIik7XG5cbi8vIFdyYXBwZXJzXG5jb25zdCBlbGVtZW50c0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19jYXJkc1wiKTtcblxuY29uc3Qgc2V0dGluZ3MgPSB7XG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX3NhdmVcIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fc2F2ZV9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0LWVycm9yX29wZW5cIixcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9fZXJyb3JfdmlzaWJsZVwiLFxufTtcblxuY29uc3QgZWRpdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX2VkaXRcIik7XG5jb25zdCBhZGRDYXJkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1fY2FyZHNcIik7XG5jb25zdCBhdmF0YXJDaGFuZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtX2F2YXRhclwiKTtcblxuXG5leHBvcnQge1xuICBzZXR0aW5ncywgZWRpdEZvcm0sIGFkZENhcmRGb3JtLCBhdmF0YXJDaGFuZ2UsIGVkaXRCdXR0b24sIGNsb3NlQnV0dG9uLCBpbnB1dE5hbWUsIGlucHV0UHJvZmVzc2lvbixcbiAgYWRkQnV0dG9uLCBlbGVtZW50c0xpc3QsIHByb2ZpbGVBdmF0YXJcbn07XG5cblxuXG4vL2NvbnN0IHByb2ZpbGVJbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbmZvXCIpO1xuLy8gY29uc3QgcHJvZmlsZU5hbWUgPSBwcm9maWxlSW5mby5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2hlYWRlclwiKTtcbi8vIGNvbnN0IHByb2ZpbGVQcm9mZXNzaW9uID0gcHJvZmlsZUluZm8ucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19wcm9mZXNzaW9uXCIpO1xuLy8gY29uc3QgcG9wdXBMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cFwiKTtcbi8vIGNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQuZm9ybXMucHJvZmlsZUZvcm07IC8vcXVlcnlTZWxlY3RvcignLnBvcHVwX2Zvcm0nKTsvL1xuLy8gY29uc3QgcG9wdXBTZWxlY3RvciA9IFwicG9wdXBfb3BlblwiO1xuXG5cbi8vIGNvbnN0IENhcmRfVGVtcGxhdGVfU2VsZWN0b3IgPSBcIiNjYXJkLXRlbXBsYXRlXCI7XG4vLyBjb25zdCBwcmV2aWV3SW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGUtcHJldmlld1wiKTtcbi8vIGNvbnN0IGNhcmREZWxldGVQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfdHlwZV9jb25maXJtLWRlbGV0ZVwiKTtcbi8vIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2J1dHRvbl9kZWxldGVcIilcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX3NldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dCwgZXJyb3JNZXNzYWdlKSA9PiB7XG4gICAgY29uc3QgeyBpbnB1dEVycm9yQ2xhc3MsIGVycm9yQ2xhc3MgfSA9IHRoaXMuX3NldHRpbmdzO1xuXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZChlcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoaW5wdXRFcnJvckNsYXNzKTtcbiAgfTtcblxuICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB7IGlucHV0RXJyb3JDbGFzcywgZXJyb3JDbGFzcyB9ID0gdGhpcy5fc2V0dGluZ3M7XG5cbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKGVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgfTtcblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0KSA9PiB7XG4gICAgaWYgKCFpbnB1dC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXQsIGlucHV0LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xuICAgIH1cbiAgfTtcblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBpbnB1dFNlbGVjdG9yIH0gPSB0aGlzLl9zZXR0aW5ncztcblxuICAgIHRoaXMuaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoaW5wdXRTZWxlY3RvcilcbiAgICApO1xuXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7IC8vbWV0aG9kIGNoZWNrXG5cbiAgICB0aGlzLmlucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBfaGFzVmFsaWRJbnB1dCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dExpc3QuZXZlcnkoKGlucHV0KSA9PiBpbnB1dC52YWxpZGl0eS52YWxpZCk7XG4gIH07XG5cbiAgX3RvZ2dsZUJ1dHRvbiA9ICgpID0+IHtcbiAgICBjb25zdCB7IGluYWN0aXZlQnV0dG9uQ2xhc3MgfSA9IHRoaXMuX3NldHRpbmdzO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBpbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuXG4gICAgaWYgKHRoaXMuX2hhc1ZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5lbmFibGVCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XG4gICAgfVxuICB9O1xuXG4gIGVuYWJsZUJ1dHRvbiA9ICgpID0+IHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgfTtcblxuICBkaXNhYmxlQnV0dG9uID0gKCkgPT4ge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIH07XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XG4gICAgfSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XG4iLCJleHBvcnQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKGRhdGEsIHVzZXJJZCwgdGVtcGxhdGVDYXJkU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlTGlrZUljb24sIGhhbmRsZURlbGV0ZUNsaWNrKSB7XG4gICAgLy9jb25zb2xlLmxvZyhcImRhdGFcIiwgZGF0YSk7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XG5cbiAgICB0aGlzLl90ZW1wbGF0ZUNhcmRTZWxlY3RvciA9IHRlbXBsYXRlQ2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlSWNvbiA9IGhhbmRsZUxpa2VJY29uO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XG4gIH1cblxuICBnZXRJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5faWRcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZUNhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fY2FyZCcpO1xuICB9XG5cbiAgX2FkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVMaWtlSWNvbigpKTtcbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9oYW5kbGVEZWxldGVDbGljayh0aGlzKSk7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspKTtcbiAgfVxuXG4gIHJlbW92ZUNhcmQoKXtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgfVxuXG4gIHNldExpa2VDb3VudGVyKG5ld0xpa2VzKSB7ICAgLy9sZW5ndGgga8Sxc23EsW7EsSBva3V5YW3EsXlvciBrYXJ0IGVrbGVuZW1peW9yIC0gaGFuZGxlY2FyZHN1Ym1pdCBmb25rc2l5b251bmEgbGlrZXMgdmUgX2lkIGVrbGV5ZXJlayDDp8O2emTDvCBeXisrXG4gICAgdGhpcy5fbGlrZXMgPSBuZXdMaWtlcztcblxuICAgIGNvbnN0IGxpa2VDb3VudGVyID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fY2FyZF9saWtlcycpLnRleHRDb250ZW50ID0gbGlrZUNvdW50ZXI7XG5cbiAgICBjb25zdCBsaWtlQ2xpY2tlZGJ5Q3VycmVudFVzZXIgPSB0aGlzLmlzTGlrZWQoKTtcbiAgICBpZihsaWtlQ2xpY2tlZGJ5Q3VycmVudFVzZXIpIHtcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnZWxlbWVudHNfX2J1dHRvbi1saWtlX2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2VsZW1lbnRzX19idXR0b24tbGlrZV9hY3RpdmUnKTtcbiAgICB9XG4gIH1cblxuICBpc0xpa2VkKCl7XG4gICAgcmV0dXJuIHRoaXMuX2xpa2VzLmZpbmQodXNlciA9PiB1c2VyLl9pZCA9PT0gdGhpcy5fdXNlcklkKTtcbiAgfVxuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCkuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19pbWFnZScpO1xuICAgIHRoaXMuX2NhcmROYW1lID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19jYXJkLXRleHQnKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19idXR0b24tbGlrZScpO1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19fYnV0dG9uLWRlbGV0ZScpO1xuXG4gICAgLy9jYXJkIC8vIGRlc3RydWN0dXJpbmcgYXNzaWdubWVudC8vXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZE5hbWUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuXG4gICAgdGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLnNldExpa2VDb3VudGVyKHRoaXMuX2xpa2VzKTtcblxuICAgIGlmKHRoaXMuX3VzZXJJZCAhPT0gdGhpcy5fb3duZXJJZCkge1xuICAgICB0aGlzLl9kZWxldGVCdXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJyAvLyBlbGVtZW50c19fYnV0dG9uLWRlbGV0ZVxuICAgIH1cbiAgICAvLyB0aGlzLl91c2VySWQgPSB1c2VySWQ7XG4gICAgLy8gdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG59XG5cbiIsImNvbnN0IFBPUFVQX0NMQVNTID0gJ3BvcHVwJztcbmNvbnN0IENMT1NFX0JVVFRPTl9DTEFTUyA9ICdwb3B1cF9fY2xvc2UnO1xuY29uc3QgUE9QVVBfU0VMRUNUT1JfQ0xBU1MgPSAncG9wdXBfb3Blbic7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3RvcilcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcylcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChQT1BVUF9TRUxFQ1RPUl9DTEFTUyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoUE9QVVBfU0VMRUNUT1JfQ0xBU1MpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoUE9QVVBfQ0xBU1MpIHx8XG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKENMT1NFX0JVVFRPTl9DTEFTUylcbiAgICAgICkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSlcbiAgfVxufVxuLy8qKiogbW91c2Vkb3duIHJlcGxhY2VkIGNsaWNrIHRvIHByZXZlbnQgdGhlIGJ1ZyBpZiB5b3UgY2xpY2sgaW5zaWRlIGEgcG9wdXAgYW5kIHRoZW4gbW92ZSB5b3VyIG1vdXNlIG91dHNpZGUgaXRcbi8vIGFuZCByZWxlYXNlIHRoZSBidXR0b24gYWJvdmUgdGhlIG92ZXJsYXkgdGhlbiB0aGUgcG9wdXAgY2xvc2VzIGJ1dCBpdOKAmXMgbm90XG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVTdWJtaXRGb3JtICkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpXG5cbiAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtID0gaGFuZGxlU3VibWl0Rm9ybVxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKVxuICAgIHRoaXMuX2lucHV0cyA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpICAgICAgIC8vWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpXVxuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IHt9XG5cblxuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gaW5wdXQuaWRcbiAgICAgIGNvbnN0IHZhbHVlID0gaW5wdXQudmFsdWVcbiAgICAgIHZhbHVlc1trZXldID0gdmFsdWVcbiAgICB9KVxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKClcblxuICAgICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCAnc3VibWl0JywgKGUpID0+IHtcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKCdpbnB1dCB0YWtlbicpXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtKHRoaXMuX2dldElucHV0VmFsdWVzKCkpXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSl7XG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV07XG4gICAgfSlcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgICAgc3VwZXIuY2xvc2UoKVxuICAgICAgdGhpcy5fZm9ybS5yZXNldCgpXG4gIH1cblxufVxuXG4iLCJjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybFxuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnNcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgJy91c2Vycy9tZScsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KS50aGVuKCByZXMgPT4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSlcbiAgICAvLyAuY2F0Y2goZXJyID0+IHtcbiAgICAvLyAgIGNvbnNvbGUubG9nKCdBcGkgaGFzIGFuIGVycm9yISEhJylcbiAgICAvLyB9KVxuICB9XG5cbiAgZWRpdFByb2ZpbGUobmFtZSwgYWJvdXQpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvdXNlcnMvbWUnLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGFib3V0LFxuICAgICAgfSlcbiAgICB9KS50aGVuKHJlcyA9PiByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1c1RleHQpKVxuICB9XG5cbiAgZWRpdEF2YXRhcihhdmF0YXIpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvdXNlcnMvbWUvYXZhdGFyJywge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXJcbiAgICAgIH0pXG4gICAgfSkudGhlbihyZXMgPT4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSlcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvY2FyZHMnLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSkudGhlbiggcmVzID0+IHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzVGV4dCkpXG4gIH0gLy9uYW1lICAmIGxpbmsgaW4gdGhlIGJvZHkgY2hlY2sgbS5cblxuICBhZGRDYXJkKG5hbWUsIGxpbmspIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvY2FyZHMnLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgbGluayxcbiAgICAgIH0pXG4gICAgfSkudGhlbihyZXMgPT4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSlcbiAgfVxuXG4gIGFkZExpa2UoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvY2FyZHMvbGlrZXMvJyArIGlkLCB7XG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSkudGhlbihyZXMgPT4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSlcbiAgfVxuXG4gIHJlbW92ZUxpa2UoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvY2FyZHMvbGlrZXMvJyArIGlkLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSkudGhlbihyZXMgPT4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSlcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvY2FyZHMvJyArIGlkLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSkudGhlbihyZXMgPT4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSlcbiAgfVxuXG5cbn1cblxuZXhwb3J0IGNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTMtZW5cIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiOTM5OGE0ODMtNDg0ZS00ZWJkLWEzNzQtYjZiM2I5ODVlOWM0XCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgfVxufSk7IC8vIHRoaXMuX2Jhc2VVcmwgLy8gdGhpcy5faGVhZGVyc1xuIiwiXG5pbXBvcnQgXCIuLi9wYWdlL2luZGV4LmNzc1wiOyAvLyBtYWluIGJyaWRnZSB0byBjc3MgZmlsZXMgYWZ0ZXIgd2VicGFjayBidWlsZCBhbHdheXMgaW5zdGFsbCAxc3RcblxuaW1wb3J0IHsgc2V0dGluZ3MsIGVkaXRGb3JtLCBhZGRDYXJkRm9ybSwgZWRpdEJ1dHRvbiwgaW5wdXROYW1lLCBpbnB1dFByb2Zlc3Npb24sXG4gIGFkZEJ1dHRvbiwgcHJvZmlsZUF2YXRhciwgYXZhdGFyQ2hhbmdlIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5cbmltcG9ydCB7IGFwaSwgQXBpIH0gZnJvbSBcIi4uL3V0aWxzL0FwaS5qc1wiO1xuLy9pbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwXCI7XG5cbmxldCB1c2VySWRcblxuLy9hcGkuZ2V0VXNlckluZm8gJiBhcGkuZ2V0SW5pdGlhbENhcmRzIGNvbWJpbmVkIHdpdGggUHJvbWlzZS5cblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSlcbiAgLnRoZW4oKFt1c2VyRGF0YSwgY2FyZHNdKSA9PiB7XG4gICAgdXNlcklkID0gdXNlckRhdGEuX2lkICAvL3VzZXJEYXRhLl91c2VySWRcbiAgICAvL2NvbnNvbGUubG9nKCd1c2VyID0+JywgdXNlckRhdGEpXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEubmFtZSwgIHVzZXJEYXRhLmFib3V0LCB1c2VyRGF0YS5hdmF0YXIpXG4gICAgc2VjdGlvbi5yZW5kZXJlckl0ZW1zKGNhcmRzKVxuICB9KVxuICAuY2F0Y2goY29uc29sZS5sb2cpXG5cbi8vZm9ybSB2YWxpZGF0b3Igc2V0dGluZ3MgZG9tIHJlZmVyZW5jZXMvL1xuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgc2V0dGluZ3MsXG4gICBlZGl0Rm9ybVxuICApO1xuY29uc3QgYWRkQ2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgc2V0dGluZ3MsXG4gIGFkZENhcmRGb3JtXG4gICk7XG5cbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgc2V0dGluZ3MsXG4gIGF2YXRhckNoYW5nZVxuKTtcblxuLy8gY29uc3QgY29uZmlybURlbGV0ZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbi8vICAgc2V0dGluZ3MsXG4vLyAgIGF2YXRhckNoYW5nZVxuLy8gKTtcblxuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuYWRkQ2FyZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5lZGl0Rm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcblxuXG4vL2FkZGNhcmRzdWJtaXRcbmNvbnN0IGhhbmRsZUNhcmRTdWJtaXQgPSAoZGF0YSkgPT4ge1xuICBhcGkuYWRkQ2FyZChkYXRhLmNhcmRUaXRsZSwgZGF0YS5jYXJkSW1hZ2VMaW5rKVxuICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAvL2NvbnNvbGUubG9nKCdyZXMgPT4nLCByZXMpXG4gICAgICBjb25zdCBjYXJkID0ge1xuICAgICAgICBuYW1lOiByZXMubmFtZSxcbiAgICAgICAgbGluazogcmVzLmxpbmssXG4gICAgICAgIGxpa2VzOiByZXMubGlrZXMsXG4gICAgICAgIF9pZDogcmVzLl9pZCxcbiAgICAgIH07XG4gICAgICBzZWN0aW9uLmFkZEl0ZW0oY2FyZCk7XG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5sb2cpXG5cbiAgICBhZGRDYXJkUG9wdXAuY2xvc2UoKTtcbn1cbi8vZWRpdHByb2ZpbGUgc3VibWl0XG5jb25zdCBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCA9IChkYXRhKSA9PiB7XG4gIGFwaS5lZGl0UHJvZmlsZShkYXRhLm5hbWUsIGRhdGEucHJvZmVzc2lvbilcbiAgICAudGhlbiggcmVzID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcy5uYW1lLCBkYXRhLnByb2Zlc3Npb24sIHJlcy5hdmF0YXIpXG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5sb2cpXG4gICAgLmZpbmFsbHkoICgpID0+IHtcbiAgICAgIGVkaXRQcm9maWxlUG9wdXAuY2xvc2UoKVxuICAgIH0pXG59O1xuXG4vL2F2YXRhciBQaWN0dXJlIFN1Ym1pdFxuY29uc3QgaGFuZGxlQXZhdGFyU3VibWl0ID0gKGRhdGEpID0+IHtcbiAgYXBpLmVkaXRBdmF0YXIoIGRhdGEubGluaylcbiAgICAudGhlbiggcmVzID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcy5uYW1lLCByZXMuYWJvdXQsIHJlcy5hdmF0YXIpXG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5sb2cpXG4gICAgLmZpbmFsbHkoICgpID0+IHtcbiAgICAgIGF2YXRhckNoYW5nZVBvcHVwLmNsb3NlKCk7XG4gICAgfSlcbn07XG5cblxuLy9jb25maXJtIENhcmQgRGVsZXRlIEZ1bmN0aW9uXG5sZXQgY2FyZFRvRGVsZXRlXG5jb25zdCBoYW5kbGVEZWxldGVDbGljayA9IChjYXJkKSA9PiB7XG4gIGNvbmZpcm1DYXJkRGVsZXRlLm9wZW4oKVxuICBjYXJkVG9EZWxldGUgPSBjYXJkO1xuICBjb25zb2xlLmxvZygnaWQgPT4nLCBjYXJkKVxuXG59XG5cblxuXG5jb25zdCBlZGl0UHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oJyNwb3B1cC10ZW1wbGF0ZScsIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KVxuZWRpdFByb2ZpbGVQb3B1cC5zZXRFdmVudExpc3RlbmVycygpXG5cbmNvbnN0IGF2YXRhckNoYW5nZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oJyNwb3B1cC10ZW1wbGF0ZS1hdmF0YXInLCBoYW5kbGVBdmF0YXJTdWJtaXQpXG5hdmF0YXJDaGFuZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpXG5cbmNvbnN0IGFkZENhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcjcG9wdXAtdGVtcGxhdGUtZm9ybScsIGhhbmRsZUNhcmRTdWJtaXQpXG5hZGRDYXJkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKSAvL29ubHkgY2FsbCBvbmNlXG5cbmNvbnN0IGNvbmZpcm1DYXJkRGVsZXRlID0gbmV3IFBvcHVwV2l0aEZvcm0oJyNwb3B1cC10ZW1wbGF0ZS1jb25maXJtJyxcbigpID0+IHtcbiAgYXBpLmRlbGV0ZUNhcmQoY2FyZFRvRGVsZXRlLmdldElkKCkpXG4gIC50aGVuKHJlcyA9PiB7XG4gICAgY2FyZFRvRGVsZXRlLnJlbW92ZUNhcmQoKVxuICB9KVxuXG59XG4pXG5jb25maXJtQ2FyZERlbGV0ZS5zZXRFdmVudExpc3RlbmVycygpXG5cbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJyNwb3B1cC1pbWFnZScpXG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGNyZWF0ZUNhcmQgPSAoZGF0YSkgPT4ge1xuICBjb25zdCBpdGVtID0gbmV3IENhcmQgKFxuICAgIGRhdGEsXG4gICAgdXNlcklkLFxuICAgICcjY2FyZC10ZW1wbGF0ZScsXG4gIChuYW1lLCBsaW5rKSA9PiB7ICAgLy80dGggY29uc3RydWN0b3IgaXRlbSBoYW5kbGVDYXJkQ2xpY2tcbiAgICBpbWFnZVBvcHVwLm9wZW4obmFtZSwgbGluaylcbiAgICB9LFxuICAgICgpID0+IHsgICAvLzV0aCAgY29uc3RydWN0b3IgaXRlbSBoYW5kbGVMaWtlSWNvblxuICAgICAgaWYoaXRlbS5pc0xpa2VkKCkpIHtcbiAgICAgICAgYXBpLnJlbW92ZUxpa2UoaXRlbS5nZXRJZCgpKVxuICAgICAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICBpdGVtLnNldExpa2VDb3VudGVyKHJlcy5saWtlcylcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJ5b3UgZG9uJ3QgbGlrZSBpdFwiKVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBpLmFkZExpa2UoaXRlbS5nZXRJZCgpKVxuICAgICAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICBpdGVtLnNldExpa2VDb3VudGVyKHJlcy5saWtlcylcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJ5b3UgbGlrZSBpdCFcIilcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LFxuICAoaWQpID0+IHtcbiAgICAgIC8vY29uZmlybUNhcmREZWxldGUub3BlbigpXG4gICAgICBoYW5kbGVEZWxldGVDbGljayhpZClcbiAgICB9IC8vNnRoIGNvbnN0cmN1dG9yIGl0ZW0gaGFuZGxlRGVsZXRlQ2xpY2tcbiAgKVxuIHJldHVybiBpdGVtLmdlbmVyYXRlQ2FyZCgpO1xufVxuXG5jb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gICAge1xuICAgICAgcmVuZGVyZXI6IGNyZWF0ZUNhcmRcbiAgICB9LFxuICAgICcuZWxlbWVudHNfX2NhcmRzJ1xuICApXG5cblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBwcm9maWxlTmFtZVNlbGVjdG9yOiAnLnByb2ZpbGVfX2hlYWRlcicsXG4gIHByb2ZpbGVQcm9mZXNzaW9uU2VsZWN0b3I6ICcucHJvZmlsZV9fcHJvZmVzc2lvbicsXG4gIHByb2ZpbGVBdmF0YXI6ICcucHJvZmlsZV9faW1hZ2UnLFxufSlcblxuXG5mdW5jdGlvbiBvcGVuUHJvZmlsZVBvcHVwKCkge1xuICBjb25zdCBwcm9maWxlSW5mbyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG5cbiAgaW5wdXROYW1lLnZhbHVlID0gcHJvZmlsZUluZm8ubmFtZTtcbiAgaW5wdXRQcm9mZXNzaW9uLnZhbHVlID0gcHJvZmlsZUluZm8ucHJvZmVzc2lvbjtcblxuICBlZGl0Rm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTsgLy8yIGtlcmUgbWkgcmVzZXRsZW5kaSBiYWthbMSxbVxuICBlZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVCdXR0b24oKTtcbiAgZWRpdFByb2ZpbGVQb3B1cC5vcGVuKCk7XG59XG5cbi8vRXZlbnQgaGFuZGxlcnNcbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuUHJvZmlsZVBvcHVwKTtcblxuXG5cbmFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgYWRkQ2FyZEZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG4gIGFkZENhcmRGb3JtVmFsaWRhdG9yLmRpc2FibGVCdXR0b24oKTtcbiAgYWRkQ2FyZFBvcHVwLm9wZW4oKTtcbn0pXG5cblxucHJvZmlsZUF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgYXZhdGFyRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbiAgYXZhdGFyRm9ybVZhbGlkYXRvci5kaXNhYmxlQnV0dG9uKCk7XG4gIGF2YXRhckNoYW5nZVBvcHVwLm9wZW4oKTtcbn0pXG5cblxuIiwiXG5pbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpXG4gICAgdGhpcy5fc3VidGl0bGUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3N1YnRpdGxlJyk7XG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7XG4gIH1cblxuXG4gIG9wZW4obmFtZSwgbGluaykge1xuXG4gICAgc3VwZXIub3BlbigpXG4gICAgICB0aGlzLl9pbWFnZS5zcmMgPSBsaW5rO1xuICAgICAgdGhpcy5faW1hZ2UuYWx0ID0gbmFtZTtcbiAgICAgIHRoaXMuX3N1YnRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcblxuICB9XG5cbn1cbiIsIlxuZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lciApIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKTtcbiAgfVxuXG5cblxuICByZW5kZXJlckl0ZW1zKGl0ZW1zKSB7XG4gICAgaXRlbXMuZm9yRWFjaCgoZGF0YSkgPT4ge1xuICAgICAgICB0aGlzLmFkZEl0ZW0oZGF0YSlcbiAgICB9KVxuICB9O1xuXG4gIGFkZEl0ZW0oZGF0YSkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9yZW5kZXJlcihkYXRhKVxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpXG4gIH07XG5cblxufVxuIiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3Ioe3Byb2ZpbGVOYW1lU2VsZWN0b3IsIHByb2ZpbGVQcm9mZXNzaW9uU2VsZWN0b3IsIHByb2ZpbGVBdmF0YXJ9KVxuICB7XG4gICAgdGhpcy5fcHJvZmlsZU5hbWU9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZU5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fcHJvZmlsZVByb2Zlc3Npb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVQcm9mZXNzaW9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXI9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUF2YXRhcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpe1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCxcbiAgICAgIHByb2Zlc3Npb246IHRoaXMuX3Byb2ZpbGVQcm9mZXNzaW9uLnRleHRDb250ZW50LFxuICAgICAgYXZhdGFyOiB0aGlzLl9wcm9maWxlQXZhdGFyLnN0eWxlLmJhY2tncm91bmRJbWFnZVxuICAgIH1cbiAgfVxuXG4gIHNldFVzZXJJbmZvKG5hbWUsIHByb2Zlc3Npb24sIGF2YXRhcikge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9wcm9maWxlUHJvZmVzc2lvbi50ZXh0Q29udGVudCA9IHByb2Zlc3Npb247XG4gICAgdGhpcy5fcHJvZmlsZUF2YXRhci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7YXZhdGFyfSlgO1xuICB9XG5cblxufVxuIl0sIm5hbWVzIjpbInByb2ZpbGVBdmF0YXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9maWxlUG9wdXAiLCJlZGl0QnV0dG9uIiwiaW5wdXROYW1lIiwiaW5wdXRQcm9mZXNzaW9uIiwiYWRkQnV0dG9uIiwic2V0dGluZ3MiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImVkaXRGb3JtIiwiYWRkQ2FyZEZvcm0iLCJhdmF0YXJDaGFuZ2UiLCJjb25zdHJ1Y3RvciIsImZvcm1FbGVtZW50IiwiaW5wdXQiLCJlcnJvck1lc3NhZ2UiLCJ0aGlzIiwiX3NldHRpbmdzIiwiZXJyb3JFbGVtZW50IiwiX2Zvcm1FbGVtZW50IiwiaWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsInJlbW92ZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfdG9nZ2xlQnV0dG9uIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiZXZlcnkiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9oYXNWYWxpZElucHV0IiwiZW5hYmxlQnV0dG9uIiwiZGlzYWJsZUJ1dHRvbiIsIl9zdWJtaXRCdXR0b24iLCJkaXNhYmxlZCIsInJlc2V0VmFsaWRhdGlvbiIsImVuYWJsZVZhbGlkYXRpb24iLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsIkNhcmQiLCJkYXRhIiwidXNlcklkIiwidGVtcGxhdGVDYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVMaWtlSWNvbiIsImhhbmRsZURlbGV0ZUNsaWNrIiwiX2RhdGEiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9pZCIsIl91c2VySWQiLCJfb3duZXJJZCIsIm93bmVyIiwiX3RlbXBsYXRlQ2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVMaWtlSWNvbiIsIl9oYW5kbGVEZWxldGVDbGljayIsImdldElkIiwiX2dldFRlbXBsYXRlIiwiY29udGVudCIsIl9hZGRFdmVudExpc3RlbmVycyIsIl9saWtlQnV0dG9uIiwiX2RlbGV0ZUJ1dHRvbiIsIl9jYXJkSW1hZ2UiLCJyZW1vdmVDYXJkIiwiX2NhcmRFbGVtZW50Iiwic2V0TGlrZUNvdW50ZXIiLCJuZXdMaWtlcyIsImxpa2VDb3VudGVyIiwibGVuZ3RoIiwiaXNMaWtlZCIsImZpbmQiLCJ1c2VyIiwiZ2VuZXJhdGVDYXJkIiwiY2xvbmVOb2RlIiwiX2NhcmROYW1lIiwic3JjIiwiYWx0Iiwic3R5bGUiLCJkaXNwbGF5IiwiUE9QVVBfU0VMRUNUT1JfQ0xBU1MiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwia2V5IiwiY2xvc2UiLCJvcGVuIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlU3VibWl0Rm9ybSIsInN1cGVyIiwiX2hhbmRsZVN1Ym1pdEZvcm0iLCJfZm9ybSIsIl9pbnB1dHMiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJ2YWx1ZXMiLCJ2YWx1ZSIsImUiLCJzZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiYXBpIiwib3B0aW9ucyIsIl9iYXNlVXJsIiwiYmFzZVVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsImdldFVzZXJJbmZvIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1c1RleHQiLCJlZGl0UHJvZmlsZSIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlZGl0QXZhdGFyIiwiYXZhdGFyIiwiZ2V0SW5pdGlhbENhcmRzIiwiYWRkQ2FyZCIsImFkZExpa2UiLCJyZW1vdmVMaWtlIiwiZGVsZXRlQ2FyZCIsImF1dGhvcml6YXRpb24iLCJhbGwiLCJ1c2VyRGF0YSIsImNhcmRzIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsInNlY3Rpb24iLCJyZW5kZXJlckl0ZW1zIiwiY2F0Y2giLCJjb25zb2xlIiwibG9nIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwiYWRkQ2FyZEZvcm1WYWxpZGF0b3IiLCJhdmF0YXJGb3JtVmFsaWRhdG9yIiwiY2FyZFRvRGVsZXRlIiwiZWRpdFByb2ZpbGVQb3B1cCIsInByb2Zlc3Npb24iLCJmaW5hbGx5IiwiYXZhdGFyQ2hhbmdlUG9wdXAiLCJhZGRDYXJkUG9wdXAiLCJjYXJkVGl0bGUiLCJjYXJkSW1hZ2VMaW5rIiwiY2FyZCIsImFkZEl0ZW0iLCJjb25maXJtQ2FyZERlbGV0ZSIsImltYWdlUG9wdXAiLCJfc3VidGl0bGUiLCJfaW1hZ2UiLCJjb250YWluZXIiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtcyIsImVsZW1lbnQiLCJwcmVwZW5kIiwiaXRlbSIsInByb2ZpbGVOYW1lU2VsZWN0b3IiLCJwcm9maWxlUHJvZmVzc2lvblNlbGVjdG9yIiwiX3Byb2ZpbGVOYW1lIiwiX3Byb2ZpbGVQcm9mZXNzaW9uIiwiX3Byb2ZpbGVBdmF0YXIiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJwcm9maWxlSW5mbyJdLCJzb3VyY2VSb290IjoiIn0=